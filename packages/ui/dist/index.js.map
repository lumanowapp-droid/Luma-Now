{"version":3,"sources":["../src/tokens/colors.ts","../src/tokens/typography.ts","../src/tokens/spacing.ts","../src/Button/styles.ts","../src/tokens/motion.ts","../src/tokens/shadows.ts","../src/Button/Button.web.tsx","../src/Button/Button.native.tsx","../src/Button/Button.tsx","../src/Button/index.tsx","../src/primitives/Text.tsx","../src/primitives/Text.web.tsx","../src/primitives/Modal.web.tsx","../src/motion/hooks.ts","../src/components/ProcessingDots/index.tsx","../src/screens/BrainDump/BrainDump.web.tsx","../src/screens/BrainDump/BrainDump.tsx","../src/components/VoiceInput/index.tsx","../src/screens/BrainDump/BrainDump.native.tsx","../src/primitives/Modal.tsx","../src/screens/CapacityModal/CapacityModal.web.tsx","../src/screens/CapacityModal/CapacityModal.tsx","../src/screens/CapacityModal/index.tsx","../../core/src/haptics/platformHaptics.web.ts","../../core/src/haptics/platformHaptics.ts","../src/index.ts","../src/primitives/index.tsx","../src/primitives/Touchable.web.tsx","../src/primitives/Surface.web.tsx","../src/primitives/Stack.web.tsx","../src/primitives/Spacer/styles.ts","../src/primitives/Spacer.web.tsx","../src/primitives/TextField.web.tsx","../src/primitives/Toggle.web.tsx","../src/tokens/index.ts","../src/motion/primitives.tsx","../src/motion/presets.ts","../src/screens/BrainDump/index.tsx","../src/screens/Timeline/index.tsx","../src/components/TaskCard/index.tsx","../src/components/EmptyState/index.tsx","../src/screens/FocusMode/index.tsx","../src/components/Timer/index.tsx","../../core/src/authService.ts","../../core/src/haptics/index.ts","../../core/src/index.ts","../src/screens/Settings/index.tsx","../src/screens/Welcome/index.tsx","../src/gestures/Swipeable.tsx"],"sourcesContent":["/**\n * Color Tokens for Luma Now\n * Professional SaaS design system\n * All colors tested for WCAG AAA accessibility (7:1 contrast ratio)\n * Refined for modern, professional aesthetic\n */\n\n/**\n * Professional Category Colors\n * Subtle, sophisticated palette for enterprise SaaS\n * These colors provide clarity and professionalism\n * Designed for productivity and focus\n */\nexport const categoryColors = {\n  work: \"#2563EB\",      // Professional blue (focus, productivity)\n  personal: \"#059669\", // Sophisticated green (balance, growth)\n  care: \"#7C3AED\",    // Refined purple (care, mindfulness)\n  urgent: \"#D97706\",  // Professional amber (priority, attention)\n} as const;\n\n/**\n * Subtle Background Tints\n * Professional background colors for clean interfaces\n * Used for card backgrounds and section highlights\n * Minimal tints for modern SaaS design\n */\nexport const backgroundTints = {\n  workBlue: \"hsl(217, 91%, 97%)\",       // #EBF4FF - Clean blue\n  personalGreen: \"hsl(160, 84%, 96%)\",  // #ECFDF5 - Fresh green\n  carePurple: \"hsl(262, 83%, 96%)\",     // #F3F0FF - Soft purple\n  urgencyAmber: \"hsl(43, 96%, 96%)\",    // #FFFBEB - Warm amber\n  neutral: \"hsl(210, 40%, 98%)\",        // #F8FAFC - Clean neutral\n} as const;\n\n/**\n * Professional Accent Colors\n * Sophisticated colors for interactive states and feedback\n * Inspired by leading SaaS platforms\n */\nexport const accentColors = {\n  completed: \"hsl(142, 71%, 45%)\",      // Professional green - accomplishment\n  focused: \"hsl(217, 91%, 60%)\",        // Clean blue - active state\n  hover: \"hsl(210, 40%, 96%)\",          // Subtle neutral - hover feedback\n  empty: \"hsl(215, 16%, 47%)\",          // Professional gray - empty states\n  highlight: \"hsl(45, 93%, 85%)\",       // Soft yellow - subtle callouts\n  success: \"hsl(142, 71%, 45%)\",        // Success green\n  warning: \"hsl(43, 96%, 56%)\",         // Professional yellow\n  error: \"hsl(0, 84%, 60%)\",            // Clean red\n} as const;\n\n/**\n * Base Colors\n * Foundation colors for backgrounds and text\n * Using HSL format for better theme transitions\n */\nexport const baseColors = {\n  // Light mode (ClickUp backgrounds)\n  bgLight: \"#F8F9FB\",                  // Very light gray workspace background\n  bgDark: \"#0F172A\",                   // Professional dark\n  textPrimary: \"#292d34\",              // ClickUp primary text\n  textPrimaryLight: \"#292d34\",\n  textPrimaryDark: \"#ffffff\",\n  textMuted: \"#7c828d\",                // ClickUp secondary/muted text\n\n  // Surface colors (ClickUp card logic)\n  surface: \"#ffffff\",                  // White surface for cards\n  surfaceElevated: \"#F8F9FB\",           // Workspace background\n  surfaceDisabled: \"#F3F3F3\",           // Disabled/ghost button background\n  surfaceHover: \"#F7F8F9\",             // Hover state background\n\n  // UI colors\n  border: \"#E9EBEE\",                   // Card border color\n  overlay: \"rgba(15, 23, 42, 0.5)\",    // Professional overlay\n} as const;\n\n/**\n * Professional Semantic Color System\n * Sophisticated colors for enterprise applications\n * Each color conveys trust and reliability\n */\nexport const semanticColors = {\n  // Primary brand colors (ClickUp brand colors)\n  primary: \"#7b68ee\",                    // Brand purple\n  primaryForeground: \"#ffffff\",\n  primaryHover: \"#6a5acd\",               // Darker purple on hover\n  primaryLight: \"#8a7ce6\",               // Lighter purple variant\n\n  // Secondary actions\n  secondary: \"hsl(210, 40%, 96%)\",       // Clean neutral\n  secondaryForeground: \"hsl(222, 84%, 5%)\",\n  secondaryHover: \"hsl(210, 40%, 92%)\",\n\n  // Muted elements (professional)\n  muted: \"hsl(210, 40%, 96%)\",\n  mutedForeground: \"hsl(215, 16%, 47%)\",\n\n  // Accent highlights\n  accent: \"hsl(262, 83%, 58%)\",          // Professional purple\n  accentForeground: \"hsl(0, 0%, 100%)\",\n\n  // Destructive actions\n  destructive: \"hsl(0, 84%, 60%)\",       // Clean red\n  destructiveForeground: \"hsl(0, 0%, 100%)\",\n\n  // Task-specific semantic colors (professional palette)\n  taskWork: \"hsl(217, 91%, 60%)\",        // Professional blue\n  taskPersonal: \"hsl(160, 84%, 39%)\",    // Sophisticated green\n  taskCare: \"hsl(262, 83%, 58%)\",        // Refined purple\n  taskUrgent: \"hsl(43, 96%, 56%)\",       // Professional amber\n\n  // State colors (ClickUp functional colors)\n  success: \"#2ecc71\",                    // Success green\n  error: \"#e74c3c\",                      // Danger red\n  warning: \"#ff9800\",                    // Warning orange\n  info: \"#0091FF\",                       // Link blue\n} as const;\n\n/**\n * Professional Chart Colors\n * Sophisticated colors for data visualization\n * Clean palette for enterprise dashboards\n */\nexport const chartColors = {\n  chart1: \"hsl(217, 91%, 60%)\",  // workBlue - professional\n  chart2: \"hsl(160, 84%, 39%)\",  // personalGreen - sophisticated\n  chart3: \"hsl(262, 83%, 58%)\",  // carePurple - refined\n  chart4: \"hsl(43, 96%, 56%)\",   // urgencyAmber - professional\n  chart5: \"hsl(215, 16%, 47%)\",  // textMuted - professional gray\n  chart6: \"hsl(271, 81%, 56%)\",  // extra purple\n  chart7: \"hsl(187, 85%, 43%)\",  // extra teal\n  chart8: \"hsl(25, 95%, 53%)\",   // extra coral\n} as const;\n\n/**\n * Color Type Exports\n */\nexport type CategoryColor = keyof typeof categoryColors;\nexport type BaseColor = keyof typeof baseColors;\nexport type SemanticColor = keyof typeof semanticColors;\nexport type ChartColor = keyof typeof chartColors;\n","/**\n * Typography Tokens for Luma Now\n * Premium type system inspired by Tiimo and TickTick\n * Balanced readability with refined visual hierarchy\n */\n\n/**\n * Platform-specific Font Families\n * ClickUp-style: Sans-serif stack with Inter/Axiforma for brand, system fonts for UI\n */\nexport const fonts = {\n  ios: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n  android: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n  web: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n  brand: \"Inter, Axiforma, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n} as const;\n\n/**\n * Font Sizes with ClickUp Visual Hierarchy\n * Professional typography system matching ClickUp design\n * Optimized for productivity and clarity\n */\nexport const fontSizes = {\n  labels: {\n    fontSize: 11,\n    lineHeight: 11, // 1.0 ratio\n    fontWeight: \"600\" as const,\n    letterSpacing: 0,\n  },\n  bodySmall: {\n    fontSize: 12,\n    lineHeight: 16.8, // 1.4 ratio\n    fontWeight: \"400\" as const,\n    letterSpacing: 0,\n  },\n  body: {\n    fontSize: 14,\n    lineHeight: 21, // 1.5 ratio\n    fontWeight: \"400\" as const,\n    letterSpacing: 0,\n  },\n  h2: {\n    fontSize: 22,\n    lineHeight: 28.6, // 1.3 ratio\n    fontWeight: \"600\" as const,\n    letterSpacing: 0,\n  },\n  h1: {\n    fontSize: 28,\n    lineHeight: 33.6, // 1.2 ratio\n    fontWeight: \"700\" as const,\n    letterSpacing: 0,\n  },\n  // Legacy support\n  caption: {\n    fontSize: 12,\n    lineHeight: 16.8,\n    fontWeight: \"400\" as const,\n    letterSpacing: 0,\n  },\n  small: {\n    fontSize: 14,\n    lineHeight: 21,\n    fontWeight: \"400\" as const,\n    letterSpacing: 0,\n  },\n  label: {\n    fontSize: 11,\n    lineHeight: 11,\n    fontWeight: \"600\" as const,\n    letterSpacing: 0,\n  },\n  large: {\n    fontSize: 18,\n    lineHeight: 27,\n    fontWeight: \"400\" as const,\n    letterSpacing: 0,\n  },\n  subheading: {\n    fontSize: 20,\n    lineHeight: 26,\n    fontWeight: \"600\" as const,\n    letterSpacing: 0,\n  },\n  heading: {\n    fontSize: 28,\n    lineHeight: 33.6,\n    fontWeight: \"700\" as const,\n    letterSpacing: 0,\n  },\n  display: {\n    fontSize: 32,\n    lineHeight: 38.4,\n    fontWeight: \"700\" as const,\n    letterSpacing: 0,\n  },\n} as const;\n\n/**\n * Font Weights\n * Limited set to maintain consistency and premium feel\n */\nexport const fontWeights = {\n  light: \"300\",\n  normal: \"400\",    // Alias for regular\n  regular: \"400\",\n  medium: \"500\",\n  semibold: \"600\",\n  bold: \"700\",      // For strong emphasis\n} as const;\n\n/**\n * Letter Spacing\n * Premium touch through refined spacing\n * Negative spacing for headings creates tighter, more elegant feel\n */\nexport const letterSpacing = {\n  tight: -1,        // Display text (premium, tight)\n  snug: -0.5,       // Headings\n  normal: 0,        // Body text\n  wide: 0.3,        // Labels, captions (improved readability)\n  wider: 0.5,       // Uppercase text\n} as const;\n\n/**\n * Platform Font Detection\n * Returns appropriate font family based on platform\n * ClickUp-style: System fonts for UI, Inter/Axiforma for brand elements\n */\nexport const getPlatformFont = (): string => {\n  // Check if we're in a browser environment\n  if (typeof window !== 'undefined') {\n    return fonts.web;\n  }\n\n  // For React Native, Platform.OS will be used at runtime\n  // This is a placeholder that will be enhanced in mobile implementation\n  return fonts.web;\n};\n\n/**\n * Font Stack for Web\n * ClickUp-style: Professional sans-serif stack\n */\nexport const fontStack = {\n  sans: `\"Inter\", \"Axiforma\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif`,\n  mono: `\"SF Mono\", \"Monaco\", \"Inconsolata\", \"Fira Code\", \"Dank Mono\", monospace`,\n} as const;\n\n/**\n * Type Exports\n */\nexport type FontSize = keyof typeof fontSizes;\nexport type FontWeight = keyof typeof fontWeights;\nexport type Platform = keyof typeof fonts;\n","/**\n * Spacing Tokens for Luma Now\n * 4px base unit for consistent rhythm and predictable patterns\n * ADHD-friendly: Generous whitespace reduces visual clutter\n */\n\n/**\n * Spacing Scale\n * Based on 4px increments for mathematical consistency\n */\nexport const spacing = {\n  xs: 4,     // 0.25rem - Minimal spacing\n  sm: 8,     // 0.5rem  - Small gaps\n  md: 12,    // 0.75rem - Medium spacing\n  base: 16,  // 1rem    - Default spacing\n  lg: 24,    // 1.5rem  - Large gaps\n  xl: 32,    // 2rem    - Extra large\n  xxl: 48,   // 3rem    - Section spacing\n  xxxl: 64,  // 4rem    - Major sections\n} as const;\n\n/**\n * Spacing Array\n * Useful for iteration or programmatic access\n */\nexport const spacingScale = [4, 8, 12, 16, 24, 32, 48, 64] as const;\n\n/**\n * Component-Specific Spacing\n * Pre-calculated spacing for common patterns\n */\nexport const componentSpacing = {\n  // Tap targets (iOS HIG: 44pt minimum)\n  tapTarget: 44,\n  tapTargetSmall: 36,\n\n  // Input fields\n  inputPadding: spacing.base,\n  inputHeight: 48,\n\n  // Cards and surfaces\n  cardPadding: spacing.lg,\n  cardGap: spacing.base,\n\n  // Layout\n  screenPadding: spacing.lg,\n  sectionGap: spacing.xxl,\n  listItemGap: spacing.md,\n\n  // Navigation\n  headerHeight: 64,\n  tabBarHeight: 56,\n} as const;\n\n/**\n * Border Radius\n * ClickUp-style: 4px to 6px radius for professional buttons\n */\nexport const borderRadius = {\n  sm: 4,    // ClickUp standard radius\n  md: 6,    // ClickUp slightly rounded\n  lg: 8,\n  xl: 12,\n  full: 9999,\n} as const;\n\n/**\n * Type Exports\n */\nexport type SpacingKey = keyof typeof spacing;\nexport type BorderRadiusKey = keyof typeof borderRadius;\n","import { baseColors, semanticColors, categoryColors, backgroundTints } from '../tokens/colors';\r\nimport { fontSizes, fontWeights, getPlatformFont } from '../tokens/typography';\r\nimport { spacing, borderRadius } from '../tokens/spacing';\r\nimport { shadows } from '../tokens/shadows';\r\n\r\nexport type ButtonVariant = 'primary' | 'secondary' | 'ghost';\r\nexport type ButtonSize = 'small' | 'medium' | 'large';\r\n\r\n/**\r\n * Get button base styles based on variant and size\r\n */\r\nexport const getButtonStyles = (\r\n  variant: ButtonVariant = 'primary',\r\n  size: ButtonSize = 'medium',\r\n  disabled: boolean = false,\r\n  fullWidth: boolean = false\r\n) => {\r\n  // Size configurations\r\n  const sizeConfig = {\r\n    small: {\r\n      paddingVertical: spacing.sm,\r\n      paddingHorizontal: spacing.md,\r\n      fontSize: fontSizes.label.fontSize,\r\n      minHeight: 40,\r\n    },\r\n    medium: {\r\n      paddingVertical: spacing.md,\r\n      paddingHorizontal: spacing.lg,\r\n      fontSize: fontSizes.body.fontSize,\r\n      minHeight: 44,\r\n    },\r\n    large: {\r\n      paddingVertical: spacing.lg,\r\n      paddingHorizontal: spacing.xl,\r\n      fontSize: fontSizes.body.fontSize,\r\n      minHeight: 52,\r\n    },\r\n  };\r\n\r\n  // Variant configurations\r\n  const variantConfig = {\r\n    primary: {\r\n      backgroundColor: disabled\r\n        ? baseColors.surfaceDisabled\r\n        : categoryColors.work,\r\n      color: baseColors.surface,\r\n      borderWidth: 0,\r\n    },\r\n    secondary: {\r\n      backgroundColor: disabled\r\n        ? baseColors.surfaceDisabled\r\n        : baseColors.surfaceElevated,\r\n      color: disabled ? baseColors.textMuted : baseColors.textPrimary,\r\n      borderWidth: 1,\r\n      borderColor: baseColors.border,\r\n    },\r\n    ghost: {\r\n      backgroundColor: 'transparent',\r\n      color: disabled ? baseColors.textMuted : baseColors.textPrimary,\r\n      borderWidth: 0,\r\n    },\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n  const variantStyles = variantConfig[variant];\r\n\r\n  return {\r\n    ...config,\r\n    ...variantStyles,\r\n    borderRadius: borderRadius.md,\r\n    fontFamily: getPlatformFont(),\r\n    fontWeight: fontWeights.medium,\r\n    opacity: disabled ? 0.6 : 1,\r\n    width: fullWidth ? '100%' : 'auto',\r\n  };\r\n};","/**\n * Motion Tokens for Luma Now\n * Calm, purposeful animations in the 200-400ms range\n * ADHD-friendly: No aggressive motion, always respects prefers-reduced-motion\n */\n\n/**\n * Duration Tokens\n * Calm range: 200-400ms (per brief)\n * All values in milliseconds\n */\nexport const duration = {\n  instant: 0,      // No animation\n  fast: 150,       // Quick feedback (hover, focus)\n  normal: 250,     // Default transitions\n  slow: 400,       // Major state changes\n  verySlow: 600,   // Page transitions\n} as const;\n\n/**\n * Easing Functions\n * No bounce or spring - calm, predictable motion only\n * Values are cubic-bezier control points [x1, y1, x2, y2]\n */\nexport const easing = {\n  calm: [0.25, 0.1, 0.25, 1.0],      // Calm ease-in-out\n  gentle: [0.4, 0.0, 0.2, 1.0],      // Gentle acceleration (Material ease)\n  linear: [0.0, 0.0, 1.0, 1.0],      // Linear (for progress bars)\n} as const;\n\n/**\n * CSS Easing Strings\n * Pre-formatted for CSS cubic-bezier()\n */\nexport const easingCSS = {\n  calm: \"cubic-bezier(0.25, 0.1, 0.25, 1.0)\",\n  gentle: \"cubic-bezier(0.4, 0.0, 0.2, 1.0)\",\n  linear: \"linear\",\n} as const;\n\n/**\n * Transition Presets\n * Common animation combinations\n */\nexport const transitions = {\n  fade: {\n    duration: duration.normal,\n    easing: easing.calm,\n    properties: [\"opacity\"],\n  },\n  slide: {\n    duration: duration.slow,\n    easing: easing.gentle,\n    properties: [\"transform\"],\n  },\n  scale: {\n    duration: duration.fast,\n    easing: easing.calm,\n    properties: [\"transform\"],\n  },\n  color: {\n    duration: duration.normal,\n    easing: easing.calm,\n    properties: [\"color\", \"background-color\", \"border-color\"],\n  },\n} as const;\n\n/**\n * CSS Transition Strings\n * Ready-to-use CSS transition values\n */\nexport const transitionsCSS = {\n  fade: `opacity ${duration.normal}ms ${easingCSS.calm}`,\n  slide: `transform ${duration.slow}ms ${easingCSS.gentle}`,\n  scale: `transform ${duration.fast}ms ${easingCSS.calm}`,\n  color: `color ${duration.normal}ms ${easingCSS.calm}, background-color ${duration.normal}ms ${easingCSS.calm}, border-color ${duration.normal}ms ${easingCSS.calm}`,\n  all: `all ${duration.normal}ms ${easingCSS.calm}`,\n} as const;\n\n/**\n * Animation Variants for Framer Motion (Web)\n */\nexport const motionVariants = {\n  fadeIn: {\n    initial: { opacity: 0 },\n    animate: { opacity: 1 },\n    exit: { opacity: 0 },\n    transition: { duration: duration.normal / 1000, ease: easing.calm },\n  },\n  slideUp: {\n    initial: { opacity: 0, y: 20 },\n    animate: { opacity: 1, y: 0 },\n    exit: { opacity: 0, y: 20 },\n    transition: { duration: duration.slow / 1000, ease: easing.gentle },\n  },\n  scaleIn: {\n    initial: { opacity: 0, scale: 0.95 },\n    animate: { opacity: 1, scale: 1 },\n    exit: { opacity: 0, scale: 0.95 },\n    transition: { duration: duration.fast / 1000, ease: easing.calm },\n  },\n} as const;\n\n/**\n * Processing Dots Animation\n * For loading states (3 dots, not spinner per brief)\n */\nexport const processingDotsConfig = {\n  dotCount: 3,\n  duration: 200,           // 200ms per dot\n  totalDuration: 600,      // 3 dots Ã— 200ms\n  staggerDelay: 200,       // Delay between each dot\n} as const;\n\n/**\n * Interaction Presets\n * Premium micro-interactions inspired by Tiimo and TickTick\n * Provides immediate, satisfying feedback\n */\nexport const interactionPresets = {\n  // Tap feedback (instant visual response)\n  tapFeedback: {\n    duration: duration.fast,\n    scale: 0.98,           // Slight scale down\n    opacity: 0.7,          // Optional opacity\n  },\n\n  // Hover state (web only)\n  hoverFeedback: {\n    duration: duration.fast,\n    scale: 1.02,           // Slight scale up\n    brightness: 1.05,      // Slightly brighter\n  },\n\n  // Task completion (satisfying but not distracting)\n  taskCompletion: {\n    duration: duration.slow,\n    fadeOut: 0.5,          // Fade to 50% opacity\n    slideOut: 20,          // Slide right 20px\n    scale: 0.95,           // Slightly smaller\n  },\n\n  // Swipe to complete (iOS/Android gesture)\n  swipeComplete: {\n    duration: duration.normal,\n    threshold: 100,        // Pixels to trigger\n    checkmarkScale: { from: 0, to: 1 },\n  },\n\n  // List reorder (smooth, calm)\n  listReorder: {\n    duration: duration.normal,\n    stagger: 50,           // 50ms delay between items\n  },\n\n  // Modal entry/exit\n  modal: {\n    duration: duration.slow,\n    backdropOpacity: 0.5,\n    slideDistance: 20,     // Slide up 20px\n  },\n\n  // Button press state\n  buttonPress: {\n    duration: 100,         // Very quick\n    scale: 0.96,           // Subtle scale\n  },\n} as const;\n\n/**\n * Reduced Motion Detection\n * Utility function to check user preference\n */\nexport const shouldReduceMotion = (): boolean => {\n  if (typeof window === 'undefined') return false;\n\n  const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n  return mediaQuery.matches;\n};\n\n/**\n * Type Exports\n */\nexport type Duration = keyof typeof duration;\nexport type Easing = keyof typeof easing;\nexport type Transition = keyof typeof transitions;\n","/**\n * Shadow Tokens for Luma Now\n * Premium elevation system inspired by Tiimo and TickTick\n * Subtle, soft shadows that create depth without harshness\n * ADHD-friendly: Gentle visual hierarchy\n */\n\n/**\n * React Native Shadow Objects\n * Platform-specific shadow configuration\n * Refined for premium feel with soft blur and low opacity\n */\nexport const shadows = {\n  none: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 0 },\n    shadowOpacity: 0,\n    shadowRadius: 0,\n    elevation: 0, // Android\n  },\n  sm: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.05,       // ClickUp card shadow opacity\n    shadowRadius: 2,           // ClickUp card shadow radius\n    elevation: 1,\n  },\n  md: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.06,       // Gentle depth\n    shadowRadius: 8,           // Soft spread\n    elevation: 2,\n  },\n  lg: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.08,       // Cards, modals\n    shadowRadius: 12,          // Premium blur\n    elevation: 3,\n  },\n  // Legacy numeric keys (maintain compatibility)\n  0: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 0 },\n    shadowOpacity: 0,\n    shadowRadius: 0,\n    elevation: 0,\n  },\n  1: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.04,\n    shadowRadius: 3,\n    elevation: 1,\n  },\n  2: {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.06,\n    shadowRadius: 8,\n    elevation: 2,\n  },\n} as const;\n\n/**\n * CSS Box Shadow Strings\n * Pre-formatted for web usage\n * Soft, premium shadows\n */\nexport const shadowsCSS = {\n  none: \"none\",\n  sm: \"0 1px 2px 0 rgb(0 0 0 / 0.05)\",                    // ClickUp card shadow\n  md: \"0 2px 8px 0 rgb(0 0 0 / 0.06)\",                    // Card default\n  lg: \"0 4px 12px 0 rgb(0 0 0 / 0.08)\",                   // Elevated cards\n  xl: \"0 8px 24px -4px rgb(0 0 0 / 0.1)\",                 // Modals\n  // Legacy numeric keys\n  0: \"none\",\n  1: \"0 1px 3px 0 rgb(0 0 0 / 0.04)\",\n  2: \"0 2px 8px 0 rgb(0 0 0 / 0.06)\",\n} as const;\n\n/**\n * Focus Ring Shadows\n * Premium, accessible focus indicators\n * Meets WCAG requirements with clear visibility\n */\nexport const focusRing = {\n  default: {\n    boxShadow: \"0 0 0 2px hsl(var(--primary) / 0.4), 0 0 0 4px hsl(var(--primary) / 0.1)\",\n    outline: \"none\",\n  },\n  highContrast: {\n    boxShadow: \"0 0 0 3px hsl(var(--primary)), 0 0 0 6px hsl(var(--background))\",\n    outline: \"none\",\n  },\n  subtle: {\n    boxShadow: \"0 0 0 2px hsl(var(--primary) / 0.2)\",\n    outline: \"none\",\n  },\n} as const;\n\n/**\n * CSS Focus Ring Strings\n * Pre-formatted for direct CSS usage\n */\nexport const focusRingCSS = \"0 0 0 2px hsl(213 85% 45% / 0.4), 0 0 0 4px hsl(213 85% 45% / 0.1)\";\n\nexport const focusRingCSSVariants = {\n  default: \"0 0 0 2px hsl(213 85% 45% / 0.4), 0 0 0 4px hsl(213 85% 45% / 0.1)\",\n  highContrast: \"0 0 0 3px hsl(213 85% 45%), 0 0 0 6px white\",\n  subtle: \"0 0 0 2px hsl(213 85% 45% / 0.2)\",\n} as const;\n\n/**\n * Inner Shadows (for inputs)\n * Subtle inset shadow for depth perception\n */\nexport const innerShadows = {\n  input: \"inset 0 1px 2px 0 rgb(0 0 0 / 0.05)\",\n  well: \"inset 0 2px 4px 0 rgb(0 0 0 / 0.06)\",\n} as const;\n\n/**\n * Type Exports\n */\nexport type ShadowKey = keyof typeof shadows;\nexport type ShadowCSSKey = keyof typeof shadowsCSS;\n","/**\n * Button Component - Web Implementation\n * Uses button element with calm interactions\n */\n\nimport React, { useState } from 'react';\nimport { ButtonProps, getButtonStyles } from '.';\nimport { duration, easing } from '../tokens/motion';\nimport { focusRingCSS } from '../tokens/shadows';\n\nexport const Button: React.FC<ButtonProps> = ({\n  children,\n  onPress,\n  variant = 'primary',\n  size = 'medium',\n  disabled = false,\n  loading = false,\n  fullWidth = false,\n  accessibilityLabel,\n  testID,\n  style,\n}) => {\n  const [isPressed, setIsPressed] = useState(false);\n  const baseStyles = getButtonStyles(variant, size, disabled || loading, fullWidth);\n\n  const buttonStyle: React.CSSProperties = {\n    ...baseStyles,\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    border: baseStyles.borderWidth && (baseStyles as any).borderColor\n      ? `${baseStyles.borderWidth}px solid ${(baseStyles as any).borderColor}`\n      : 'none',\n    cursor: disabled || loading ? 'not-allowed' : 'pointer',\n    outline: 'none',\n    transition: `all ${duration.normal}ms ${easing.calm.join(',')}`,\n    WebkitFontSmoothing: 'antialiased',\n    MozOsxFontSmoothing: 'grayscale',\n    userSelect: 'none',\n    opacity: isPressed && !disabled && !loading ? 0.7 : baseStyles.opacity,\n    ...style,\n  };\n\n  const loadingSpinner = loading ? (\n    <span\n      style={{\n        display: 'inline-block',\n        width: 16,\n        height: 16,\n        border: '2px solid currentColor',\n        borderTopColor: 'transparent',\n        borderRadius: '50%',\n        animation: 'spin 0.6s linear infinite',\n        marginRight: 8,\n      }}\n    />\n  ) : null;\n\n  // Add CSS animation for spinner\n  if (typeof document !== 'undefined' && loading) {\n    const style = document.createElement('style');\n    style.textContent = `\n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n    `;\n    if (!document.head.querySelector('style[data-button-animations]')) {\n      style.setAttribute('data-button-animations', 'true');\n      document.head.appendChild(style);\n    }\n  }\n\n  return (\n    <button\n      type=\"button\"\n      style={buttonStyle}\n      onClick={onPress}\n      onMouseDown={() => setIsPressed(true)}\n      onMouseUp={() => setIsPressed(false)}\n      onMouseLeave={() => setIsPressed(false)}\n      disabled={disabled || loading}\n      aria-label={accessibilityLabel}\n      data-testid={testID}\n      onFocus={(e) => {\n        if (!disabled && !loading) {\n          e.target.style.boxShadow = focusRingCSS;\n        }\n      }}\n      onBlur={(e) => {\n        e.target.style.boxShadow = 'none';\n      }}\n    >\n      {loadingSpinner}\n      {children}\n    </button>\n  );\n};\n","/**\n * Button Component - React Native Implementation\n * Uses Pressable with haptic feedback\n */\n\nimport React from 'react';\nimport { Pressable, Text, ActivityIndicator, StyleSheet, View } from 'react-native';\nimport { ButtonProps, getButtonStyles } from './Button';\n\n// Haptic feedback placeholder - will be implemented in Epic 8\nconst triggerHaptic = async (type: string) => {\n  // TODO: Implement in Epic 8 with expo-haptics\n  console.log(`Haptic feedback: ${type}`);\n};\n\nexport const Button: React.FC<ButtonProps> = ({\n  children,\n  onPress,\n  variant = 'primary',\n  size = 'medium',\n  disabled = false,\n  loading = false,\n  fullWidth = false,\n  hapticFeedback = true,\n  accessibilityLabel,\n  testID,\n  style,\n}) => {\n  const baseStyles = getButtonStyles(variant, size, disabled || loading, fullWidth);\n\n  const handlePress = () => {\n    if (hapticFeedback && !disabled && !loading) {\n      triggerHaptic('medium');\n    }\n    onPress?.();\n  };\n\n  const buttonStyle = StyleSheet.flatten([\n    {\n      paddingVertical: baseStyles.paddingVertical,\n      paddingHorizontal: baseStyles.paddingHorizontal,\n      backgroundColor: baseStyles.backgroundColor,\n      borderRadius: baseStyles.borderRadius,\n      borderWidth: baseStyles.borderWidth || 0,\n      borderColor: baseStyles.borderColor,\n      minHeight: baseStyles.minHeight,\n      width: fullWidth ? '100%' : 'auto',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexDirection: 'row',\n      opacity: baseStyles.opacity,\n    },\n    style,\n  ]);\n\n  const textStyle = {\n    color: baseStyles.color,\n    fontSize: baseStyles.fontSize,\n    fontWeight: baseStyles.fontWeight,\n    fontFamily: baseStyles.fontFamily,\n    textAlign: 'center' as const,\n  };\n\n  const content = loading ? (\n    <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n      <ActivityIndicator\n        size=\"small\"\n        color={baseStyles.color}\n        style={{ marginRight: 8 }}\n      />\n      <Text style={textStyle}>{children}</Text>\n    </View>\n  ) : (\n    <Text style={textStyle}>{children}</Text>\n  );\n\n  return (\n    <Pressable\n      style={({ pressed }) => [\n        buttonStyle,\n        pressed && !disabled && !loading && { opacity: 0.7 },\n      ]}\n      onPress={handlePress}\n      disabled={disabled || loading}\n      accessible={true}\n      accessibilityLabel={accessibilityLabel}\n      accessibilityRole=\"button\"\n      accessibilityState={{ disabled: disabled || loading }}\n      testID={testID}\n    >\n      {content}\n    </Pressable>\n  );\n};\n","/**\n * Button Component - Enhanced\n * Aligned with ADHD-friendly design principles\n *\n * Features:\n * - Variants: Primary, Secondary, Ghost\n * - Loading state with haptic feedback\n * - Disabled state (clear but not harsh)\n * - Minimal tap target (44pt)\n * - Calm press states\n */\n\nimport React from 'react';\nimport { getButtonStyles, ButtonVariant, ButtonSize } from './styles';\n\nexport type { ButtonVariant, ButtonSize } from './styles';\nexport { getButtonStyles };\n\nexport interface ButtonProps {\n  children: React.ReactNode;\n  onPress?: () => void;\n  variant?: ButtonVariant;\n  size?: ButtonSize;\n  disabled?: boolean;\n  loading?: boolean;\n  fullWidth?: boolean;\n  hapticFeedback?: boolean;\n  accessibilityLabel?: string;\n  testID?: string;\n  style?: any;\n}\n\n// Platform detection\nconst isWeb = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n// Import platform-specific implementations\nlet WebButton: React.ComponentType<ButtonProps>;\nlet NativeButton: React.ComponentType<ButtonProps>;\n\nif (isWeb) {\n  WebButton = require('./Button.web').Button;\n} else {\n  NativeButton = require('./Button.native').Button;\n}\n\n/**\n * Cross-platform Button component\n */\nexport const Button: React.FC<ButtonProps> = (props) => {\n  if (isWeb) {\n    return <WebButton {...props} />;\n  }\n  return <NativeButton {...props} />;\n};\n","// Re-export enhanced Button implementation\nexport { Button } from \"./Button\"\nexport type { ButtonProps, ButtonVariant, ButtonSize } from \"./Button\"\nexport { getButtonStyles } from \"./styles\"\n\n// Note: PlatformButton implementation available in ./PlatformButton.tsx\n// Migrated to enhanced implementation\n","/**\n * Text Primitive Component\n * Semantic typography with platform-aware font loading\n *\n * Features:\n * - Semantic variants: Display, Heading, Body, Label, Caption\n * - Automatic color inheritance\n * - Platform-aware font loading\n * - ADHD-friendly readability\n */\n\nimport React from 'react';\nimport { fontSizes, fontWeights, getPlatformFont } from '../tokens/typography';\nimport { baseColors } from '../tokens/colors';\n\nexport type TextVariant = 'h1' | 'h2' | 'body' | 'bodySmall' | 'labels' | 'display' | 'heading' | 'label' | 'caption';\n\nexport interface TextProps {\n  variant?: TextVariant;\n  children: React.ReactNode;\n  color?: string;\n  weight?: keyof typeof fontWeights;\n  align?: 'left' | 'center' | 'right';\n  style?: any;\n  numberOfLines?: number;\n  selectable?: boolean;\n  testID?: string;\n}\n\n/**\n * Get variant-specific styles\n */\nexport const getVariantStyles = (variant: TextVariant) => {\n  const styles = {\n    h1: {\n      fontSize: fontSizes.h1.fontSize,\n      lineHeight: fontSizes.h1.lineHeight,\n      fontWeight: fontWeights.bold,\n      letterSpacing: 0,\n    },\n    h2: {\n      fontSize: fontSizes.h2.fontSize,\n      lineHeight: fontSizes.h2.lineHeight,\n      fontWeight: fontWeights.semibold,\n      letterSpacing: 0,\n    },\n    body: {\n      fontSize: fontSizes.body.fontSize,\n      lineHeight: fontSizes.body.lineHeight,\n      fontWeight: fontWeights.normal,\n      letterSpacing: 0,\n    },\n    bodySmall: {\n      fontSize: fontSizes.bodySmall.fontSize,\n      lineHeight: fontSizes.bodySmall.lineHeight,\n      fontWeight: fontWeights.normal,\n      letterSpacing: 0,\n    },\n    labels: {\n      fontSize: fontSizes.labels.fontSize,\n      lineHeight: fontSizes.labels.lineHeight,\n      fontWeight: fontWeights.semibold,\n      letterSpacing: 0,\n    },\n    // Legacy support\n    display: {\n      fontSize: fontSizes.display.fontSize,\n      lineHeight: fontSizes.display.lineHeight,\n      fontWeight: fontWeights.light,\n      letterSpacing: -0.5,\n    },\n    heading: {\n      fontSize: fontSizes.heading.fontSize,\n      lineHeight: fontSizes.heading.lineHeight,\n      fontWeight: fontWeights.bold,\n      letterSpacing: -0.3,\n    },\n    label: {\n      fontSize: fontSizes.label.fontSize,\n      lineHeight: fontSizes.label.lineHeight,\n      fontWeight: fontWeights.semibold,\n      letterSpacing: 0.1,\n    },\n    caption: {\n      fontSize: fontSizes.caption.fontSize,\n      lineHeight: fontSizes.caption.lineHeight,\n      fontWeight: fontWeights.normal,\n      letterSpacing: 0,\n    },\n  };\n\n  return styles[variant];\n};\n\n/**\n * Base Text component with shared logic\n * Platform-specific implementations are in Text.web.tsx and Text.native.tsx\n */\nexport const getTextBaseStyles = (\n  variant: TextVariant = 'body',\n  color?: string,\n  weight?: keyof typeof fontWeights,\n  align?: 'left' | 'center' | 'right'\n) => {\n  const variantStyles = getVariantStyles(variant);\n\n  return {\n    ...variantStyles,\n    color: color || baseColors.textPrimary,\n    fontWeight: weight ? fontWeights[weight] : variantStyles.fontWeight,\n    textAlign: align || 'left',\n    fontFamily: getPlatformFont(),\n  };\n};\n\n/**\n * The actual Text component is exported from platform-specific files:\n * - Text.web.tsx for web\n * - Text.native.tsx for React Native\n *\n * Both import the types and helpers from this file.\n */\n\n// Platform detection\nconst isWeb = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n// Import platform-specific implementations\nlet PlatformText: React.ComponentType<TextProps>;\n\nif (isWeb) {\n  PlatformText = require('./Text.web').Text;\n}\n\n/**\n * Cross-platform Text component\n */\nexport const Text: React.FC<TextProps> = (props) => {\n  return <PlatformText {...props} />;\n};\n","/**\n * Text Primitive - Web Implementation\n * Uses standard HTML and CSS for web platform\n */\n\nimport React from 'react';\nimport { TextProps, getTextBaseStyles, getVariantStyles } from './Text';\n\n// Re-export utility functions for web builds\nexport { getTextBaseStyles, getVariantStyles };\n\nexport const Text: React.FC<TextProps> = ({\n  variant = 'body',\n  children,\n  style,\n  numberOfLines,\n  selectable = true,\n  testID,\n}) => {\n  // No styling for basic pages\n  const webStyle: React.CSSProperties = {\n    margin: 0,\n    padding: 0,\n    userSelect: selectable ? 'text' : 'none',\n    WebkitFontSmoothing: 'antialiased',\n    MozOsxFontSmoothing: 'grayscale',\n    ...(numberOfLines && {\n      display: '-webkit-box',\n      WebkitLineClamp: numberOfLines,\n      WebkitBoxOrient: 'vertical',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n    }),\n    ...style,\n  };\n\n  // Use semantic HTML elements based on variant\n  const Component = variant === 'display' || variant === 'heading' ? 'h1' : 'p';\n\n  return (\n    <Component style={webStyle} data-testid={testID}>\n      {children}\n    </Component>\n  );\n};\n","/**\n * Modal Primitive - Web Implementation\n * Uses portal and fixed positioning\n */\n\nimport React, { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { ModalProps } from '.';\nimport { borderRadius } from '../tokens/spacing';\nimport { duration, easing } from '../tokens/motion';\n\nexport const Modal: React.FC<ModalProps> = ({\n  visible,\n  onClose,\n  children,\n  dismissible = true,\n  testID,\n}) => {\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  // Handle escape key\n  useEffect(() => {\n    if (!visible || !dismissible) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [visible, dismissible, onClose]);\n\n  // Prevent body scroll when modal is open\n  useEffect(() => {\n    if (visible) {\n      document.body.style.overflow = 'hidden';\n      return () => {\n        document.body.style.overflow = '';\n      };\n    }\n  }, [visible]);\n\n  // Focus trap\n  useEffect(() => {\n    if (visible && contentRef.current) {\n      const focusableElements = contentRef.current.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      const firstElement = focusableElements[0] as HTMLElement;\n      firstElement?.focus();\n    }\n  }, [visible]);\n\n  if (!visible) return null;\n\n  // No styling for basic pages\n  const overlayStyle: React.CSSProperties = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1000,\n    padding: 16,\n    animation: `fadeIn ${duration.normal}ms ${easing.calm.join(',')}`,\n  };\n\n  const contentStyle: React.CSSProperties = {\n    borderRadius: borderRadius.lg,\n    padding: 24,\n    maxHeight: '90vh',\n    overflowY: 'auto',\n    position: 'relative',\n    animation: `scaleIn ${duration.normal}ms ${easing.calm.join(',')}`,\n  };\n\n  const modal = (\n    <div\n      style={overlayStyle}\n      onClick={dismissible ? onClose : undefined}\n      data-testid={testID}\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      <div\n        ref={contentRef}\n        style={contentStyle}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {children}\n      </div>\n    </div>\n  );\n\n  // Add CSS animations\n  if (typeof document !== 'undefined') {\n    const style = document.createElement('style');\n    style.textContent = `\n      @keyframes fadeIn {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n      @keyframes scaleIn {\n        from { opacity: 0; transform: scale(0.95); }\n        to { opacity: 1; transform: scale(1); }\n      }\n    `;\n    if (!document.head.querySelector('style[data-modal-animations]')) {\n      style.setAttribute('data-modal-animations', 'true');\n      document.head.appendChild(style);\n    }\n  }\n\n  return createPortal(modal, document.body);\n};\n","/**\n * Motion Hooks\n * Platform-agnostic animation utilities\n */\n\nimport { useEffect, useState } from 'react';\nimport { shouldReduceMotion } from '../tokens/motion';\n\n/**\n * Hook to detect user's reduced motion preference\n * Respects prefers-reduced-motion system setting\n *\n * @returns boolean - true if animations should be reduced/disabled\n */\nexport function useReducedMotion(): boolean {\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false);\n\n  useEffect(() => {\n    // Initial check\n    setPrefersReducedMotion(shouldReduceMotion());\n\n    // Listen for changes\n    if (typeof window === 'undefined') return;\n\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n\n    const handleChange = (event: MediaQueryListEvent) => {\n      setPrefersReducedMotion(event.matches);\n    };\n\n    // Modern browsers\n    if (mediaQuery.addEventListener) {\n      mediaQuery.addEventListener('change', handleChange);\n      return () => mediaQuery.removeEventListener('change', handleChange);\n    }\n    // Legacy browsers\n    else if (mediaQuery.addListener) {\n      mediaQuery.addListener(handleChange);\n      return () => mediaQuery.removeListener(handleChange);\n    }\n  }, []);\n\n  return prefersReducedMotion;\n}\n\n/**\n * Hook to get animation configuration with reduced motion support\n * Returns instant duration if reduced motion is preferred\n *\n * @param duration - Animation duration in milliseconds\n * @returns Adjusted duration (0 if reduced motion, original otherwise)\n */\nexport function useAnimationDuration(duration: number): number {\n  const shouldReduce = useReducedMotion();\n  return shouldReduce ? 0 : duration;\n}\n\n/**\n * Hook to determine if an animation should play\n * Useful for enabling/disabling entire animation components\n *\n * @returns boolean - true if animations should play\n */\nexport function useShouldAnimate(): boolean {\n  return !useReducedMotion();\n}\n\n/**\n * Hook for managing animation state\n * Provides enter/exit state management\n */\nexport function useAnimationState(isVisible: boolean) {\n  const [state, setState] = useState<'entering' | 'entered' | 'exiting' | 'exited'>(\n    isVisible ? 'entered' : 'exited'\n  );\n\n  useEffect(() => {\n    if (isVisible) {\n      setState('entering');\n      // Transition to entered after animation\n      const timer = setTimeout(() => setState('entered'), 300);\n      return () => clearTimeout(timer);\n    } else {\n      setState('exiting');\n      const timer = setTimeout(() => setState('exited'), 300);\n      return () => clearTimeout(timer);\n    }\n  }, [isVisible]);\n\n  return state;\n}\n","/**\n * ProcessingDots component\n * ADHD-friendly loading indicator - 3 animated dots, not a spinner\n * Respects prefers-reduced-motion\n */\n\n'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { processingDotsConfig } from '../../tokens/motion';\nimport { useReducedMotion } from '../../motion/hooks';\n\nexport interface ProcessingDotsProps {\n  /** Custom className for styling */\n  className?: string;\n  /** Color of the dots (default: currentColor) */\n  color?: string;\n  /** Size of each dot in pixels (default: 8) */\n  size?: number;\n  /** Spacing between dots in pixels (default: 4) */\n  spacing?: number;\n}\n\n/**\n * ProcessingDots Component\n * Shows 3 dots that fade in/out in sequence\n * When reduced motion is preferred, shows static dots\n */\nexport function ProcessingDots({\n  className = '',\n  color = 'currentColor',\n  size = 8,\n  spacing = 4,\n}: ProcessingDotsProps) {\n  const shouldReduce = useReducedMotion();\n  const [activeDot, setActiveDot] = useState(0);\n\n  useEffect(() => {\n    if (shouldReduce) return;\n\n    const interval = setInterval(() => {\n      setActiveDot((prev) => (prev + 1) % processingDotsConfig.dotCount);\n    }, processingDotsConfig.duration);\n\n    return () => clearInterval(interval);\n  }, [shouldReduce]);\n\n  const dots = Array.from({ length: processingDotsConfig.dotCount });\n\n  return (\n    <div\n      className={`inline-flex items-center justify-center ${className}`}\n      style={{ gap: spacing }}\n      role=\"status\"\n      aria-label=\"Processing\"\n    >\n      {dots.map((_, index) => (\n        <div\n          key={index}\n          style={{\n            width: size,\n            height: size,\n            borderRadius: '50%',\n            backgroundColor: color,\n            opacity: shouldReduce ? 0.6 : activeDot === index ? 1 : 0.3,\n            transition: shouldReduce\n              ? 'none'\n              : `opacity ${processingDotsConfig.duration}ms ease-in-out`,\n          }}\n        />\n      ))}\n      <span className=\"sr-only\">Processing...</span>\n    </div>\n  );\n}\n\n/**\n * ProcessingText Component\n * Text with animated dots suffix (e.g., \"Loading...\")\n */\nexport interface ProcessingTextProps {\n  /** The text to display */\n  text: string;\n  /** Color of the dots (default: currentColor) */\n  color?: string;\n  /** Custom className for styling */\n  className?: string;\n}\n\nexport function ProcessingText({\n  text,\n  color,\n  className = '',\n}: ProcessingTextProps) {\n  return (\n    <div className={`inline-flex items-center gap-2 ${className}`}>\n      <span>{text}</span>\n      <ProcessingDots color={color} size={4} spacing={4} />\n    </div>\n  );\n}\n","/**\n * BrainDump - Web Implementation\n * Uses standard textarea with auto-grow functionality\n */\n\nimport React, { useRef, useCallback, useEffect } from 'react';\nimport type { BrainDumpProps } from './BrainDump';\nimport { ProcessingDots } from '../../components/ProcessingDots';\n\nexport { type BrainDumpProps } from './BrainDump';\n\nexport function BrainDump({\n  text,\n  onTextChange,\n  onCompress,\n  isProcessing = false,\n  error = null,\n  className = '',\n  placeholder = \"Brain dump everything on your mind... e.g., 'I need to finish the proposal, walk the dog, call mom, review budget'\",\n}: BrainDumpProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Auto-grow textarea\n  const updateTextareaHeight = useCallback(() => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n\n    textarea.style.height = 'auto';\n    const newHeight = Math.min(Math.max(textarea.scrollHeight, 200), 600);\n    textarea.style.height = `${newHeight}px`;\n  }, []);\n\n  // Update height when text changes\n  useEffect(() => {\n    updateTextareaHeight();\n  }, [text, updateTextareaHeight]);\n\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    onTextChange(e.target.value);\n    requestAnimationFrame(updateTextareaHeight);\n  };\n\n  const handleCompress = async () => {\n    if (!text.trim() || isProcessing) return;\n    await onCompress(text);\n  };\n\n  const isDisabled = !text.trim() || isProcessing;\n\n  return (\n    <div className={`w-full max-w-4xl mx-auto ${className}`}>\n      {/* Brain dump textarea with premium styling */}\n      <div className=\"relative\">\n        <textarea\n          ref={textareaRef}\n          value={text}\n          onChange={handleTextChange}\n          placeholder={placeholder}\n          disabled={isProcessing}\n          style={{\n            boxShadow: '0 2px 8px 0 rgb(0 0 0 / 0.06)',\n          }}\n          className=\"w-full resize-none rounded-xl border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-base text-[hsl(var(--card-foreground))] placeholder:text-[hsl(var(--muted-foreground))] p-6 pr-16 transition-all duration-[250ms] focus:outline-none focus:shadow-[0_0_0_2px_hsl(var(--primary)_/_0.4),_0_0_0_4px_hsl(var(--primary)_/_0.1)] focus:border-transparent h-[200px] min-h-[200px] max-h-[600px] hover:border-[hsl(var(--border))] hover:shadow-[0_4px_12px_0_rgb(0_0_0_/_0.08)] disabled:opacity-60 disabled:cursor-not-allowed [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar-thumb]:bg-[hsl(var(--muted-foreground)_/_0.3)] [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:hover:bg-[hsl(var(--muted-foreground)_/_0.5)]\"\n        />\n\n        {/* Character count - refined styling */}\n        <div className=\"absolute bottom-4 right-4 text-sm font-medium text-[hsl(var(--muted-foreground))] tracking-wide\">\n          {text.length.toLocaleString()}\n        </div>\n      </div>\n\n      {/* Error message - premium styling */}\n      {error && (\n        <div className=\"mt-4 p-4 text-sm font-medium text-[hsl(var(--destructive))] bg-[hsl(var(--destructive)_/_0.1)] rounded-xl border border-[hsl(var(--destructive)_/_0.3)] shadow-sm\">\n          {error}\n        </div>\n      )}\n\n      {/* Compress button - stunning premium design */}\n      <div className=\"mt-8 flex justify-center\">\n        <button\n          onClick={handleCompress}\n          disabled={isDisabled}\n          style={{\n            boxShadow: isDisabled ? 'none' : '0 4px 12px 0 rgb(0 0 0 / 0.1)',\n          }}\n          className=\"group px-8 py-4 text-base font-semibold rounded-xl bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary-hover))] text-[hsl(var(--primary-foreground))] transition-all duration-[250ms] disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none focus:outline-none focus:shadow-[0_0_0_2px_hsl(var(--primary)_/_0.4),_0_0_0_4px_hsl(var(--primary)_/_0.1)] hover:scale-[1.02] hover:shadow-[0_8px_24px_-4px_rgb(0_0_0_/_0.15)] active:scale-[0.98] tracking-wide\"\n        >\n          {isProcessing ? (\n            <span className=\"flex items-center gap-3\">\n              <ProcessingDots className=\"text-[hsl(var(--primary-foreground))]\" />\n              <span>Compressing...</span>\n            </span>\n          ) : (\n            <span className=\"flex items-center gap-2\">\n              <span>Compress with AI</span>\n              <svg className=\"w-5 h-5 transition-transform duration-250 group-hover:translate-x-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n              </svg>\n            </span>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n","/**\n * BrainDump - Shared types and interface\n * Core brain dump functionality shared across platforms\n */\n\nimport React, { useState, useCallback } from 'react';\n\nexport interface BrainDumpProps {\n  /** Current text value */\n  text: string;\n  /** Text change handler */\n  onTextChange: (text: string) => void;\n  /** Compress button handler */\n  onCompress: (text: string) => Promise<void>;\n  /** Whether compression is in progress */\n  isProcessing?: boolean;\n  /** Error message to display */\n  error?: string | null;\n  /** Custom className for styling */\n  className?: string;\n  /** Placeholder text */\n  placeholder?: string;\n}\n\n// Platform-specific implementations will override this\nexport const BrainDump: React.FC<BrainDumpProps> = () => {\n  throw new Error('BrainDump must be imported from a platform-specific file');\n};\n","/**\n * Voice Input Component\n *\n * Hold-to-record voice input button with visual feedback.\n * Platform-specific implementations for web and native.\n *\n * ADHD-Critical: Voice removes typing friction at moments of overwhelm.\n * Speak thoughts faster than typing them.\n */\n\nimport React from 'react';\n\nexport type VoiceInputState = 'idle' | 'recording' | 'processing' | 'error';\n\nexport interface VoiceInputProps {\n  onTranscription: (text: string) => void;\n  onError?: (error: { code: string; message: string }) => void;\n  disabled?: boolean;\n  className?: string;\n  style?: any;\n}\n\n/**\n * Voice input button component\n * Platform-specific implementation loaded automatically\n *\n * @example\n * ```typescript\n * <VoiceInput\n *   onTranscription={(text) => setBrainDumpText(prev => prev + ' ' + text)}\n *   onError={(error) => console.error(error)}\n * />\n * ```\n */\nexport const VoiceInput: React.FC<VoiceInputProps> = () => {\n  // Base implementation - will be overridden by platform-specific files\n  throw new Error('VoiceInput must be imported from a platform-specific file');\n};\n","/**\n * BrainDump - Native Implementation\n * Uses TextInput with voice button for mobile\n */\n\nimport React, { useRef } from 'react';\nimport { View, TextInput, StyleSheet, Text, Pressable } from 'react-native';\nimport type { BrainDumpProps } from './BrainDump';\nimport { VoiceInput } from '../../components/VoiceInput';\nimport { ProcessingDots } from '../../components/ProcessingDots';\n\nexport { type BrainDumpProps } from './BrainDump';\n\nexport function BrainDump({\n  text,\n  onTextChange,\n  onCompress,\n  isProcessing = false,\n  error = null,\n  className = '',\n  placeholder = \"Brain dump everything on your mind... e.g., 'I need to finish the proposal, walk the dog, call mom, review budget'\",\n}: BrainDumpProps) {\n  const inputRef = useRef<TextInput>(null);\n\n  const handleCompress = async () => {\n    if (!text.trim() || isProcessing) return;\n    await onCompress(text);\n  };\n\n  const handleVoiceTranscript = (transcript: string) => {\n    // Append voice transcript to existing text\n    const newText = text ? `${text}\\n${transcript}` : transcript;\n    onTextChange(newText);\n  };\n\n  const isDisabled = !text.trim() || isProcessing;\n\n  return (\n    <View style={styles.container}>\n      {/* Text Input */}\n      <View style={styles.inputContainer}>\n        <TextInput\n          ref={inputRef}\n          value={text}\n          onChangeText={onTextChange}\n          placeholder={placeholder}\n          placeholderTextColor=\"#A1A1AA\"\n          multiline\n          editable={!isProcessing}\n          style={[styles.textInput, isProcessing && styles.textInputDisabled]}\n          textAlignVertical=\"top\"\n        />\n\n        {/* Character count */}\n        <View style={styles.characterCount}>\n          <Text style={styles.characterCountText}>{text.length} characters</Text>\n        </View>\n      </View>\n\n      {/* Voice Input */}\n      <View style={styles.voiceContainer}>\n        <VoiceInput\n          onTranscript={handleVoiceTranscript}\n          disabled={isProcessing}\n        />\n      </View>\n\n      {/* Error message */}\n      {error && (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n        </View>\n      )}\n\n      {/* Compress button */}\n      <View style={styles.buttonContainer}>\n        <Pressable\n          onPress={handleCompress}\n          disabled={isDisabled}\n          style={[styles.button, isDisabled && styles.buttonDisabled]}\n        >\n          {isProcessing ? (\n            <View style={styles.buttonContent}>\n              <ProcessingDots />\n              <Text style={styles.buttonText}>Compressing</Text>\n            </View>\n          ) : (\n            <Text style={styles.buttonText}>Compress with AI</Text>\n          )}\n        </Pressable>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    maxWidth: 896, // 4xl equivalent\n    alignSelf: 'center',\n    paddingHorizontal: 16,\n  },\n  inputContainer: {\n    position: 'relative',\n    marginBottom: 16,\n  },\n  textInput: {\n    minHeight: 200,\n    maxHeight: 600,\n    borderRadius: 16,\n    borderWidth: 1,\n    borderColor: '#E4E4E7',\n    backgroundColor: '#FFFFFF',\n    fontSize: 18,\n    lineHeight: 28,\n    color: '#18181B',\n    padding: 24,\n    paddingRight: 64,\n  },\n  textInputDisabled: {\n    opacity: 0.5,\n  },\n  characterCount: {\n    position: 'absolute',\n    bottom: 16,\n    right: 16,\n  },\n  characterCountText: {\n    fontSize: 14,\n    color: '#71717A',\n  },\n  voiceContainer: {\n    marginBottom: 16,\n    alignItems: 'center',\n  },\n  errorContainer: {\n    marginTop: 12,\n    padding: 12,\n    backgroundColor: '#FEF2F2',\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#FECACA',\n  },\n  errorText: {\n    fontSize: 14,\n    color: '#DC2626',\n  },\n  buttonContainer: {\n    marginTop: 24,\n    alignItems: 'center',\n  },\n  button: {\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 12,\n    backgroundColor: '#3B82F6',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.1,\n    shadowRadius: 8,\n    elevation: 4,\n  },\n  buttonDisabled: {\n    opacity: 0.5,\n  },\n  buttonContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n  },\n  buttonText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#FFFFFF',\n  },\n});\n","/**\n * Modal Primitive Component\n * Simple overlay with dim background\n *\n * Features:\n * - No backdrop blur (per ADHD-friendly brief)\n * - Dim background only\n * - Swipe-to-dismiss (mobile)\n * - Escape key to dismiss (web)\n * - Focus trap for accessibility\n */\n\nimport React from 'react';\nimport { baseColors } from '../tokens/colors';\n\nexport interface ModalProps {\n  visible: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  dismissible?: boolean;\n  testID?: string;\n}\n\n/**\n * Get modal overlay styles\n */\nexport const getModalOverlayStyles = () => {\n  return {\n    backgroundColor: baseColors.overlay,\n  };\n};\n\n/**\n * Get modal content styles\n */\nexport const getModalContentStyles = () => {\n  return {\n    backgroundColor: baseColors.surface,\n    maxWidth: 600,\n    width: '90%',\n  };\n};\n\n// Platform detection\nconst isWeb = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n// Import platform-specific implementations\nlet WebModal: React.ComponentType<ModalProps>;\n\nif (isWeb) {\n  WebModal = require('./Modal.web').Modal;\n}\n\n/**\n * Cross-platform Modal component\n */\nexport const Modal: React.FC<ModalProps> = (props) => {\n  return <WebModal {...props} />;\n};\n","/**\n * CapacityModal - Web Implementation\n * Simple modal for selecting daily capacity\n */\n\nimport React from 'react';\nimport type { CapacityModalProps, CapacityLevel } from '.';\nimport { CAPACITY_OPTIONS } from '.';\nimport { Modal } from '../../primitives/Modal';\nimport { Button } from '../../Button';\n\nexport { type CapacityModalProps, type CapacityLevel } from '.';\n\nexport function CapacityModal({\n  isOpen,\n  currentCapacity = 'medium',\n  onClose,\n  onSelectCapacity,\n  className = '',\n}: CapacityModalProps) {\n  const [selectedCapacity, setSelectedCapacity] = React.useState<CapacityLevel>(currentCapacity);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setSelectedCapacity(currentCapacity);\n    }\n  }, [isOpen, currentCapacity]);\n\n  const handleConfirm = () => {\n    onSelectCapacity(selectedCapacity);\n    onClose();\n  };\n\n  return (\n    <Modal visible={isOpen} onClose={onClose}>\n      <div className={`bg-white dark:bg-zinc-900 rounded-2xl p-8 max-w-md w-full mx-4 ${className}`}>\n        {/* Header */}\n        <div className=\"text-center mb-6\">\n          <h2 className=\"text-2xl font-light text-zinc-900 dark:text-zinc-100 mb-2\">\n            Set Your Capacity\n          </h2>\n          <p className=\"text-zinc-600 dark:text-zinc-400\">\n            How much energy do you have today?\n          </p>\n        </div>\n\n        {/* Capacity Options */}\n        <div className=\"space-y-3 mb-8\">\n          {CAPACITY_OPTIONS.map((option) => (\n            <button\n              key={option.value}\n              onClick={() => setSelectedCapacity(option.value)}\n              className={`w-full p-4 rounded-xl border-2 transition-all duration-200 text-left ${\n                selectedCapacity === option.value\n                  ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                  : 'border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600'\n              }`}\n            >\n              <div className=\"flex items-start gap-3\">\n                <div className=\"text-2xl\">{option.icon}</div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-baseline gap-2 mb-1\">\n                    <span className=\"font-medium text-zinc-900 dark:text-zinc-100\">\n                      {option.label}\n                    </span>\n                    <span className=\"text-sm text-zinc-500 dark:text-zinc-400\">\n                      {option.tasks} tasks\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-zinc-600 dark:text-zinc-400\">\n                    {option.description}\n                  </p>\n                </div>\n                {selectedCapacity === option.value && (\n                  <div className=\"text-blue-500\">âœ“</div>\n                )}\n              </div>\n            </button>\n          ))}\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 px-6 py-3 rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors duration-200\"\n          >\n            Cancel\n          </button>\n          <Button\n            onPress={handleConfirm}\n          >\n            Set Capacity\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","/**\n * CapacityModal - Shared types and interface\n * Helps users set their daily capacity (Light/Medium/Full)\n */\n\nimport React from 'react';\n\nexport type CapacityLevel = 'light' | 'medium' | 'full';\n\nexport interface CapacityOption {\n  value: CapacityLevel;\n  tasks: number;\n  label: string;\n  icon: string;\n  description: string;\n}\n\nexport const CAPACITY_OPTIONS: CapacityOption[] = [\n  {\n    value: 'light',\n    tasks: 3,\n    label: 'Light Day',\n    icon: 'ðŸ”‹',\n    description: 'Low energy, keep it simple',\n  },\n  {\n    value: 'medium',\n    tasks: 5,\n    label: 'Medium Day',\n    icon: 'ðŸ”‹ðŸ”‹',\n    description: 'Moderate capacity, steady pace',\n  },\n  {\n    value: 'full',\n    tasks: 7,\n    label: 'Full Day',\n    icon: 'ðŸ”‹ðŸ”‹ðŸ”‹',\n    description: 'High energy, ready for more',\n  },\n];\n\nexport interface CapacityModalProps {\n  /** Whether the modal is visible */\n  isOpen: boolean;\n  /** Current selected capacity */\n  currentCapacity?: CapacityLevel;\n  /** Close modal handler */\n  onClose: () => void;\n  /** Capacity selection handler */\n  onSelectCapacity: (capacity: CapacityLevel) => void;\n  /** Custom className for styling */\n  className?: string;\n}\n\n// Platform detection\nconst isWeb = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n// Import platform-specific implementations\nlet PlatformCapacityModal: React.ComponentType<CapacityModalProps>;\n\nif (isWeb) {\n  PlatformCapacityModal = require('./CapacityModal.web').CapacityModal;\n}\n\n/**\n * Cross-platform CapacityModal component\n */\nexport const CapacityModal: React.FC<CapacityModalProps> = (props) => {\n  return <PlatformCapacityModal {...props} />;\n};\n","/**\n * CapacityModal\n * Platform-agnostic export - automatically selects web or native implementation\n */\n\nexport type CapacityLevel = 'light' | 'medium' | 'full';\n\nexport interface CapacityOption {\n  value: CapacityLevel;\n  tasks: number;\n  label: string;\n  icon: string;\n  description: string;\n}\n\nexport const CAPACITY_OPTIONS: CapacityOption[] = [\n  {\n    value: 'light',\n    tasks: 3,\n    label: 'Light Day',\n    icon: 'ðŸ”‹',\n    description: 'Low energy, keep it simple',\n  },\n  {\n    value: 'medium',\n    tasks: 5,\n    label: 'Medium Day',\n    icon: 'ðŸ”‹ðŸ”‹',\n    description: 'Moderate capacity, steady pace',\n  },\n  {\n    value: 'full',\n    tasks: 7,\n    label: 'Full Day',\n    icon: 'ðŸ”‹ðŸ”‹ðŸ”‹',\n    description: 'High energy, ready for more',\n  },\n];\n\nexport { CapacityModal } from './CapacityModal';\nexport type { CapacityModalProps } from './CapacityModal';\n","/**\n * Web Haptic Implementation\n *\n * Graceful degradation for web platform - no-op implementation\n * since haptics are not available in web browsers.\n */\n\nimport type { HapticService, HapticType } from './index';\n\nexport class HapticServiceImpl implements HapticService {\n  async trigger(type: HapticType): Promise<void> {\n    // No-op on web - haptics not available\n    return Promise.resolve();\n  }\n\n  isAvailable(): boolean {\n    // Haptics are not available on web\n    return false;\n  }\n\n  isEnabled(): boolean {\n    // Not applicable on web\n    return false;\n  }\n}\n","export { HapticServiceImpl } from './platformHaptics.web';","// Button component\nexport { Button } from './Button';\n\n// Primitive components\nexport * from './primitives';\n\n// Tokens\nexport * from './tokens';\n\n// Motion components, hooks, and presets\nexport * from './motion/primitives';\nexport * from './motion/hooks';\nexport * from './motion/presets';\n\n// Screens\nexport { BrainDump } from './screens/BrainDump';\nexport type { BrainDumpProps } from './screens/BrainDump';\nexport { CapacityModal } from './screens/CapacityModal';\nexport type { CapacityModalProps, CapacityLevel } from './screens/CapacityModal';\nexport { Timeline } from './screens/Timeline';\nexport { FocusMode } from './screens/FocusMode';\nexport { Settings } from './screens/Settings';\nexport { Welcome } from './screens/Welcome';\n\n// Components\nexport { ProcessingDots, ProcessingText } from './components/ProcessingDots';\nexport type { ProcessingDotsProps, ProcessingTextProps } from './components/ProcessingDots';\nexport { VoiceInput } from './components/VoiceInput';\nexport type { VoiceInputProps } from './components/VoiceInput';\nexport { TaskCard } from './components/TaskCard';\nexport { Timer } from './components/Timer';\nexport { EmptyState } from './components/EmptyState';\n\n// Gestures\nexport { Swipeable } from './gestures/Swipeable';\nexport type { SwipeableProps } from './gestures/Swipeable';","/**\n * Primitives Index (Web version)\n *\n * This file exports web-specific components.\n * For React Native, there should be an index.native.tsx file that exports .native components.\n */\n\n// Export web-specific components and their utilities\nexport { Text, getTextBaseStyles, getVariantStyles } from './Text.web';\nexport { Touchable } from './Touchable.web';\nexport { Surface } from './Surface.web';\nexport { Stack } from './Stack.web';\nexport { Spacer } from './Spacer.web';\nexport { TextField } from './TextField.web';\nexport { Modal } from './Modal.web';\nexport { Toggle } from './Toggle.web';\n\n// Types (from base files)\nexport type { TextProps, TextVariant } from './Text';\nexport type { TouchableProps, HapticType } from './Touchable';\nexport type { SurfaceProps, SurfaceElevation, SurfaceVariant } from './Surface';\nexport type { StackProps, StackDirection, StackSpacing, StackAlign, StackJustify } from './Stack';\nexport type { SpacerProps, SpacerSize, SpacerDirection } from './Spacer';\nexport type { TextFieldProps } from './TextField';\nexport type { ModalProps } from './Modal';\nexport type { ToggleProps } from './Toggle';\n","/**\n * Touchable Primitive - Web Implementation\n * Uses button element with accessibility best practices\n */\n\nimport React, { useState } from 'react';\nimport { TouchableProps } from './Touchable';\n\nexport const Touchable: React.FC<TouchableProps> = (props) => {\n  const {\n    children,\n    onPress,\n    onPressIn,\n    onPressOut,\n    onLongPress,\n    style,\n    activeOpacity = 0.7,\n    disabled = false,\n    accessibilityLabel,\n    accessibilityHint,\n    accessibilityRole,\n    testID,\n  } = props;\n\n  const [isPressed, setIsPressed] = useState(false);\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    setIsPressed(true);\n    onPressIn?.();\n  };\n\n  const handleMouseUp = (e: React.MouseEvent) => {\n    setIsPressed(false);\n    onPressOut?.();\n  };\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (!disabled) {\n      onPress?.();\n    }\n  };\n\n  const webStyle: React.CSSProperties = {\n    border: 'none',\n    background: 'transparent',\n    padding: 0,\n    cursor: disabled ? 'not-allowed' : 'pointer',\n    outline: 'none',\n    minWidth: 44,\n    minHeight: 44,\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    opacity: isPressed ? activeOpacity : 1,\n    transition: 'opacity 150ms ease-out',\n    WebkitTapHighlightColor: 'transparent',\n    userSelect: 'none',\n    ...(style as React.CSSProperties),\n  };\n\n  return (\n    <button\n      type=\"button\"\n      style={webStyle}\n      onClick={handleClick}\n      onMouseDown={handleMouseDown}\n      onMouseUp={handleMouseUp}\n      onMouseLeave={() => setIsPressed(false)}\n      disabled={disabled}\n      aria-label={accessibilityLabel}\n      aria-describedby={accessibilityHint}\n      role={accessibilityRole}\n      data-testid={testID}\n    >\n      {children}\n    </button>\n  );\n};\n","/**\n * Surface Primitive - Web Implementation\n * Uses div with CSS box-shadow\n */\n\nimport React from 'react';\nimport { SurfaceProps } from './Surface';\nimport { shadowsCSS } from '../tokens/shadows';\n\nexport const Surface: React.FC<SurfaceProps> = ({\n  children,\n  elevation = 0,\n  variant = 'default',\n  backgroundColor,\n  padding,\n  radius = 'md',\n  style,\n  testID,\n}) => {\n  // No styling for basic pages\n  const webStyle: React.CSSProperties = {\n    boxShadow: elevation > 0 ? shadowsCSS[elevation] : 'none',\n    ...(padding !== undefined && {\n      padding: typeof padding === 'number' ? `${padding}px` : padding,\n    }),\n    ...style,\n  };\n\n  return (\n    <div style={webStyle} data-testid={testID}>\n      {children}\n    </div>\n  );\n};\n","/**\n * Stack Primitive - Web Implementation\n * Uses div with flexbox and gap\n */\n\nimport React from 'react';\nimport { StackProps } from './Stack';\n\nexport const Stack: React.FC<StackProps> = ({\n  children,\n  direction = 'vertical',\n  spacing = 'md',\n  align = 'stretch',\n  justify = 'start',\n  wrap = false,\n  style,\n  testID,\n}) => {\n  // No styling for basic pages\n  const webStyle: React.CSSProperties = {\n    ...style,\n  };\n\n  return (\n    <div style={webStyle} data-testid={testID}>\n      {children}\n    </div>\n  );\n};\n","import { spacing } from '../../tokens/spacing';\r\n\r\nexport type SpacerSize = keyof typeof spacing;\r\nexport type SpacerDirection = 'horizontal' | 'vertical';\r\n\r\n/**\r\n * Get spacer styles based on size and direction\r\n */\r\nexport const getSpacerStyles = (\r\n  size: SpacerSize = 'md',\r\n  direction: SpacerDirection = 'vertical'\r\n) => {\r\n  const space = spacing[size];\r\n\r\n  return {\r\n    width: direction === 'horizontal' ? space : 1,\r\n    height: direction === 'vertical' ? space : 1,\r\n    flexShrink: 0, // Prevent spacer from shrinking\r\n  };\r\n};","/**\n * Spacer Primitive - Web Implementation\n * Uses div with specified dimensions\n */\n\nimport React from 'react';\nimport type { SpacerProps } from './Spacer';\nimport { getSpacerStyles } from './Spacer/styles';\n\nexport const Spacer: React.FC<SpacerProps> = ({\n  size = 'md',\n  direction = 'vertical',\n  testID,\n}) => {\n  const baseStyles = getSpacerStyles(size, direction);\n\n  const webStyle: React.CSSProperties = {\n    ...baseStyles,\n    pointerEvents: 'none',\n  };\n\n  return <div style={webStyle} data-testid={testID} aria-hidden=\"true\" />;\n};","/**\n * TextField Primitive - Web Implementation\n * Uses textarea with auto-growing capability\n */\n\nimport React, { useRef, useEffect } from 'react';\nimport { TextFieldProps, getTextFieldStyles } from './TextField';\nimport { baseColors } from '../tokens/colors';\nimport { fontSizes } from '../tokens/typography';\nimport { focusRingCSS } from '../tokens/shadows';\n\nexport const TextField: React.FC<TextFieldProps> = ({\n  value,\n  onChangeText,\n  placeholder,\n  multiline = true,\n  autoGrow = true,\n  maxLength,\n  showCharacterCount = false,\n  disabled = false,\n  error,\n  label,\n  autoFocus = false,\n  testID,\n  style,\n}) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const hasError = !!error;\n\n  // Auto-grow functionality\n  useEffect(() => {\n    if (autoGrow && textareaRef.current) {\n      const textarea = textareaRef.current;\n      textarea.style.height = 'auto';\n      textarea.style.height = `${textarea.scrollHeight}px`;\n    }\n  }, [value, autoGrow]);\n\n  // No styling for basic pages\n  const textareaStyle: React.CSSProperties = {\n    width: '100%',\n    resize: autoGrow ? 'none' : 'vertical',\n    outline: 'none',\n    transition: 'border-color 200ms ease-out, box-shadow 200ms ease-out',\n    WebkitFontSmoothing: 'antialiased',\n    MozOsxFontSmoothing: 'grayscale',\n    ...style,\n  };\n\n  const characterCount = showCharacterCount && maxLength ? (\n    <div\n      style={{\n        fontSize: fontSizes.caption.fontSize,\n        color: baseColors.textMuted,\n        textAlign: 'right',\n        marginTop: 4,\n      }}\n    >\n      {value.length}/{maxLength}\n    </div>\n  ) : null;\n\n  return (\n    <div style={{ width: '100%' }}>\n      {label && (\n        <label\n          style={{\n            display: 'block',\n            fontSize: fontSizes.label.fontSize,\n            color: baseColors.textPrimary,\n            marginBottom: 8,\n            fontWeight: 500,\n          }}\n        >\n          {label}\n        </label>\n      )}\n      <textarea\n        ref={textareaRef}\n        value={value}\n        onChange={(e) => onChangeText(e.target.value)}\n        placeholder={placeholder}\n        disabled={disabled}\n        maxLength={maxLength}\n        autoFocus={autoFocus}\n        data-testid={testID}\n        style={textareaStyle}\n        onFocus={(e) => {\n          if (!disabled && !hasError) {\n            e.target.style.boxShadow = focusRingCSS;\n            e.target.style.borderColor = baseColors.border;\n          }\n        }}\n        onBlur={(e) => {\n          e.target.style.boxShadow = 'none';\n        }}\n      />\n      {error && (\n        <div\n          style={{\n            fontSize: fontSizes.caption.fontSize,\n            color: baseColors.textMuted,\n            marginTop: 4,\n          }}\n        >\n          {error}\n        </div>\n      )}\n      {characterCount}\n    </div>\n  );\n};\n","/**\n * Toggle Primitive - Web Implementation\n * Uses checkbox input with custom styling\n */\n\nimport React from 'react';\nimport { ToggleProps, getToggleTrackStyles, getToggleThumbStyles } from './Toggle';\nimport { duration, easing } from '../tokens/motion';\nimport { Text } from './Text.web';\nimport { Stack } from './Stack.web';\n\nexport const Toggle: React.FC<ToggleProps> = ({\n  value,\n  onValueChange,\n  disabled = false,\n  label,\n  testID,\n}) => {\n  // No styling for basic pages\n  const trackStyle: React.CSSProperties = {\n    position: 'relative',\n    cursor: disabled ? 'not-allowed' : 'pointer',\n    transition: `background-color ${duration.normal}ms ${easing.calm.join(',')}`,\n    padding: 2,\n    display: 'flex',\n    alignItems: 'center',\n  };\n\n  const thumbStyle: React.CSSProperties = {\n    transform: value ? 'translateX(20px)' : 'translateX(0)',\n    transition: `transform ${duration.normal}ms ${easing.calm.join(',')}`,\n    boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\n  };\n\n  const content = (\n    <label\n      style={{\n        display: 'inline-flex',\n        alignItems: 'center',\n        cursor: disabled ? 'not-allowed' : 'pointer',\n        userSelect: 'none',\n      }}\n    >\n      <input\n        type=\"checkbox\"\n        checked={value}\n        onChange={(e) => onValueChange(e.target.checked)}\n        disabled={disabled}\n        data-testid={testID}\n        style={{ display: 'none' }}\n        aria-label={label}\n      />\n      <div style={trackStyle}>\n        <div style={thumbStyle} />\n      </div>\n    </label>\n  );\n\n  if (label) {\n    return (\n      <Stack direction=\"horizontal\" spacing=\"sm\" align=\"center\">\n        {content}\n        <Text variant=\"body\">{label}</Text>\n      </Stack>\n    );\n  }\n\n  return content;\n};\n","/**\n * Design Tokens for Luma Now\n * Unified export for all design system tokens\n *\n * Usage:\n *   import { tokens } from '@multi-platform-app/ui/tokens';\n *   import { categoryColors, spacing } from '@multi-platform-app/ui/tokens';\n */\n\n// Re-export all token modules\nexport * from './colors';\nexport * from './typography';\nexport * from './spacing';\nexport * from './motion';\nexport * from './shadows';\n\n// Import for unified tokens object\nimport {\n  categoryColors,\n  baseColors,\n  semanticColors,\n  chartColors,\n} from './colors';\n\nimport {\n  fonts,\n  fontSizes,\n  fontWeights,\n  getPlatformFont,\n  fontStack,\n} from './typography';\n\nimport {\n  spacing,\n  spacingScale,\n  componentSpacing,\n  borderRadius,\n} from './spacing';\n\nimport {\n  duration,\n  easing,\n  easingCSS,\n  transitions,\n  transitionsCSS,\n  motionVariants,\n  processingDotsConfig,\n  shouldReduceMotion,\n} from './motion';\n\nimport {\n  shadows,\n  shadowsCSS,\n  focusRing,\n  focusRingCSS,\n  innerShadows,\n} from './shadows';\n\n/**\n * Unified Tokens Object\n * Single import for all design tokens\n *\n * @example\n * ```typescript\n * import { tokens } from '@multi-platform-app/ui/tokens';\n *\n * const backgroundColor = tokens.colors.category.workBlue;\n * const fontSize = tokens.typography.sizes.body.fontSize;\n * const padding = tokens.spacing.scale.lg;\n * ```\n */\nexport const tokens = {\n  colors: {\n    category: categoryColors,\n    base: baseColors,\n    semantic: semanticColors,\n    chart: chartColors,\n  },\n  typography: {\n    fonts,\n    sizes: fontSizes,\n    weights: fontWeights,\n    stack: fontStack,\n    getPlatformFont,\n  },\n  spacing: {\n    scale: spacing,\n    array: spacingScale,\n    component: componentSpacing,\n    radius: borderRadius,\n  },\n  motion: {\n    duration,\n    easing,\n    easingCSS,\n    transitions,\n    transitionsCSS,\n    variants: motionVariants,\n    processingDots: processingDotsConfig,\n    shouldReduceMotion,\n  },\n  shadows: {\n    native: shadows,\n    css: shadowsCSS,\n    focus: focusRing,\n    focusCSS: focusRingCSS,\n    inner: innerShadows,\n  },\n} as const;\n\n/**\n * Type Export for Tokens\n * Useful for type-safe token access\n */\nexport type Tokens = typeof tokens;\n","/**\n * Motion Primitives - Platform-agnostic interface\n * Implementation provided by .web.tsx and .native.tsx files\n */\n\nimport { ReactNode } from 'react';\n\n/**\n * Base animation props shared by all motion primitives\n */\nexport interface BaseAnimationProps {\n  /** Child elements to animate */\n  children: ReactNode;\n  /** Animation duration in milliseconds (overrides preset) */\n  duration?: number;\n  /** Animation delay in milliseconds */\n  delay?: number;\n  /** Callback when animation completes */\n  onAnimationComplete?: () => void;\n}\n\n/**\n * FadeIn/FadeOut Props\n */\nexport interface FadeProps extends BaseAnimationProps {\n  /** Initial opacity (default: 0 for FadeIn, 1 for FadeOut) */\n  from?: number;\n  /** Final opacity (default: 1 for FadeIn, 0 for FadeOut) */\n  to?: number;\n}\n\n/**\n * Slide Props\n */\nexport interface SlideProps extends BaseAnimationProps {\n  /** Direction of slide */\n  direction?: 'up' | 'down' | 'left' | 'right';\n  /** Distance to slide in pixels (default: 20) */\n  distance?: number;\n}\n\n/**\n * Scale Props\n */\nexport interface ScaleProps extends BaseAnimationProps {\n  /** Initial scale (default: 0.95) */\n  from?: number;\n  /** Final scale (default: 1) */\n  to?: number;\n}\n\n/**\n * Collapse Props\n */\nexport interface CollapseProps extends BaseAnimationProps {\n  /** Whether the content is visible */\n  isOpen: boolean;\n}\n\n/**\n * FadeIn Component\n * Gentle opacity animation from 0 to 1\n */\nexport function FadeIn(props: FadeProps): JSX.Element {\n  throw new Error('FadeIn must be implemented by platform-specific file');\n}\n\n/**\n * FadeOut Component\n * Gentle opacity animation from 1 to 0\n */\nexport function FadeOut(props: FadeProps): JSX.Element {\n  throw new Error('FadeOut must be implemented by platform-specific file');\n}\n\n/**\n * SlideIn Component\n * Directional entrance animation\n */\nexport function SlideIn(props: SlideProps): JSX.Element {\n  throw new Error('SlideIn must be implemented by platform-specific file');\n}\n\n/**\n * SlideOut Component\n * Directional exit animation\n */\nexport function SlideOut(props: SlideProps): JSX.Element {\n  throw new Error('SlideOut must be implemented by platform-specific file');\n}\n\n/**\n * ScaleIn Component\n * Subtle grow animation\n */\nexport function ScaleIn(props: ScaleProps): JSX.Element {\n  throw new Error('ScaleIn must be implemented by platform-specific file');\n}\n\n/**\n * ScaleOut Component\n * Subtle shrink animation\n */\nexport function ScaleOut(props: ScaleProps): JSX.Element {\n  throw new Error('ScaleOut must be implemented by platform-specific file');\n}\n\n/**\n * Collapse Component\n * Height animation for showing/hiding content\n */\nexport function Collapse(props: CollapseProps): JSX.Element {\n  throw new Error('Collapse must be implemented by platform-specific file');\n}\n\n/**\n * AnimatedPresence Component\n * Handles enter/exit animations for conditionally rendered content\n */\nexport interface AnimatedPresenceProps {\n  children: ReactNode;\n}\n\nexport function AnimatedPresence(props: AnimatedPresenceProps): JSX.Element {\n  throw new Error('AnimatedPresence must be implemented by platform-specific file');\n}\n","/**\n * Motion Presets\n * Common animation patterns ready to use\n */\n\nimport { duration, easing } from '../tokens/motion';\n\n/**\n * Playful Motion Presets\n * Delightful animations inspired by modern apps\n * Each animation adds personality and joy\n */\nexport const motionPresets = {\n  /**\n   * Gentle fade in with slight upward motion\n   * Default animation for content appearing\n   */\n  fadeIn: {\n    duration: duration.normal,\n    y: [10, 0],\n    opacity: [0, 1],\n  },\n\n  /**\n   * Gentle fade out with slight downward motion\n   * Default animation for content disappearing\n   */\n  fadeOut: {\n    duration: duration.normal,\n    y: [0, 10],\n    opacity: [1, 0],\n  },\n\n  /**\n   * Playful bounce in from bottom\n   * Good for modals and sheets\n   */\n  slideInUp: {\n    direction: 'up' as const,\n    distance: 20,\n    duration: duration.normal,\n    bounce: 0.2,\n  },\n\n  /**\n   * Slide in from top with bounce\n   * Good for notifications\n   */\n  slideInDown: {\n    direction: 'down' as const,\n    distance: 20,\n    duration: duration.normal,\n    bounce: 0.1,\n  },\n\n  /**\n   * Slide in from left with playful curve\n   * Good for side panels\n   */\n  slideInLeft: {\n    direction: 'right' as const,\n    distance: 24,\n    duration: duration.slow,\n    curve: 'easeOut',\n  },\n\n  /**\n   * Slide in from right with playful curve\n   * Good for side panels\n   */\n  slideInRight: {\n    direction: 'left' as const,\n    distance: 24,\n    duration: duration.slow,\n    curve: 'easeOut',\n  },\n\n  /**\n   * Delightful scale in with bounce\n   * Good for buttons and small elements\n   */\n  scaleIn: {\n    from: 0.9,\n    to: 1,\n    duration: duration.fast,\n    bounce: 0.1,\n  },\n\n  /**\n   * Quick scale out\n   * Good for buttons and small elements\n   */\n  scaleOut: {\n    from: 1,\n    to: 0.9,\n    duration: duration.fast,\n  },\n\n  /**\n   * Springy collapse\n   * Good for accordions and expandable sections\n   */\n  collapse: {\n    isOpen: false,\n    duration: duration.slow,\n    spring: true,\n  },\n\n  /**\n   * Springy expand\n   * Good for accordions and expandable sections\n   */\n  expand: {\n    isOpen: true,\n    duration: duration.slow,\n    spring: true,\n  },\n\n  /**\n   * Playful shimmer effect\n   * Good for loading states\n   */\n  shimmer: {\n    duration: 1.5,\n    repeat: Infinity,\n    ease: 'easeInOut',\n  },\n\n  /**\n   * Gentle pulse animation\n   * Good for attention-grabbing elements\n   */\n  pulse: {\n    scale: [1, 1.05, 1],\n    duration: 2,\n    repeat: Infinity,\n  },\n\n  /**\n   * Happy wiggle\n   * Good for celebratory moments\n   */\n  wiggle: {\n    rotate: [-2, 2, -2, 2, 0],\n    duration: 0.5,\n  },\n\n  /**\n   * Floating animation\n   * Good for decorative elements\n   */\n  float: {\n    y: [-5, 5, -5],\n    duration: 3,\n    repeat: Infinity,\n    ease: 'easeInOut',\n  },\n} as const;\n\n/**\n * Stagger configuration for list animations\n * When animating multiple items in a list\n */\nexport const staggerPresets = {\n  /**\n   * Fast stagger - 50ms between items\n   * Good for small lists\n   */\n  fast: {\n    staggerChildren: 0.05,\n    delayChildren: 0,\n  },\n\n  /**\n   * Normal stagger - 100ms between items\n   * Default for most lists\n   */\n  normal: {\n    staggerChildren: 0.1,\n    delayChildren: 0,\n  },\n\n  /**\n   * Slow stagger - 150ms between items\n   * Good for hero animations\n   */\n  slow: {\n    staggerChildren: 0.15,\n    delayChildren: 0.1,\n  },\n} as const;\n\n/**\n * Helper to create a staggered list animation\n */\nexport const createStaggeredAnimation = (\n  preset: keyof typeof staggerPresets = 'normal'\n) => {\n  return {\n    container: {\n      initial: 'hidden',\n      animate: 'show',\n      exit: 'hidden',\n      variants: {\n        hidden: { opacity: 0 },\n        show: {\n          opacity: 1,\n          transition: staggerPresets[preset],\n        },\n      },\n    },\n    item: {\n      variants: {\n        hidden: { opacity: 0, y: 20 },\n        show: { opacity: 1, y: 0 },\n      },\n    },\n  };\n};\n","/**\n * BrainDump Screen\n * Platform-agnostic export - automatically selects web or native implementation\n */\n\n// Platform detection\nconst isWeb = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n// Import platform-specific implementations\nlet BrainDumpImpl: any;\nlet BrainDumpProps: any;\n\nif (isWeb) {\n  BrainDumpImpl = require('./BrainDump.web').BrainDump;\n  BrainDumpProps = require('./BrainDump').BrainDumpProps;\n} else {\n  BrainDumpImpl = require('./BrainDump.native').BrainDump;\n  BrainDumpProps = require('./BrainDump').BrainDumpProps;\n}\n\nexport const BrainDump = BrainDumpImpl;\nexport type { BrainDumpProps };\n","import React from 'react';\r\nimport { useLumaStore } from '@luma/store';\r\nimport type { Task } from '@multi-platform-app/types';\r\nimport { TaskCard } from '../../components/TaskCard';\r\nimport { EmptyState } from '../../components/EmptyState';\r\n\r\nexport const Timeline: React.FC = () => {\r\n  const tasks = useLumaStore((state) => state.tasks);\r\n  const toggleTask = useLumaStore((state) => state.toggleTask);\r\n  const removeTask = useLumaStore((state) => state.removeTask);\r\n  const setCurrentView = useLumaStore((state) => state.setCurrentView);\r\n\r\n  const handleFocus = (taskId: string) => {\r\n    // Navigate to focus mode with this task\r\n    useLumaStore.getState().startFocus(taskId);\r\n    setCurrentView('focus');\r\n  };\r\n\r\n  const handleToggle = (taskId: string) => {\r\n    toggleTask(taskId);\r\n  };\r\n\r\n  const handleDelete = (taskId: string) => {\r\n    removeTask(taskId);\r\n  };\r\n\r\n  if (tasks.length === 0) {\r\n    return (\r\n      <EmptyState\r\n        message=\"Your timeline is clear. Take a breath.\"\r\n        icon=\"checkmark.circle\"\r\n      />\r\n    );\r\n  }\r\n\r\n  const completedTasks = tasks.filter((t: Task) => t.completed);\r\n  const incompleteTasks = tasks.filter((t: Task) => !t.completed);\r\n\r\n  return (\r\n    <div className=\"w-full max-w-4xl mx-auto\">\r\n      <div className=\"space-y-4\">\r\n        {incompleteTasks.map((task) => (\r\n          <TaskCard\r\n            key={task.id}\r\n            task={task}\r\n            onToggle={() => handleToggle(task.id)}\r\n            onFocus={() => handleFocus(task.id)}\r\n            onDelete={() => handleDelete(task.id)}\r\n          />\r\n        ))}\r\n\r\n        {completedTasks.length > 0 && (\r\n          <>\r\n            <div className=\"h-8\" />\r\n            {completedTasks.map((task) => (\r\n              <TaskCard\r\n                key={task.id}\r\n                task={task}\r\n                onToggle={() => handleToggle(task.id)}\r\n                onFocus={() => handleFocus(task.id)}\r\n                onDelete={() => handleDelete(task.id)}\r\n              />\r\n            ))}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport type { Task } from '@multi-platform-app/types';\r\nimport { Text } from '../../primitives';\r\n\r\nexport interface TaskCardProps {\r\n  task: Task;\r\n  onToggle: () => void;\r\n  onFocus: () => void;\r\n  onDelete: () => void;\r\n}\r\n\r\n// Updated category colors to match our new playful palette\r\nconst categoryColors = {\r\n  work: '#36C5F0',      // Slack-inspired vibrant blue\r\n  personal: '#2EB67D',  // Vibrant green\r\n  care: '#ECB22E',      // Warm yellow\r\n  urgent: '#E01E5A',    // Playful pink-red\r\n};\r\n\r\nexport const TaskCard: React.FC<TaskCardProps> = ({\r\n  task,\r\n  onToggle,\r\n  onFocus,\r\n  onDelete,\r\n}) => {\r\n  const borderColor = categoryColors[task.category as keyof typeof categoryColors] || categoryColors.personal;\r\n\r\n  const handleToggle = () => {\r\n    onToggle();\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    onFocus();\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    onDelete();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={handleFocus}\r\n      style={{\r\n        backgroundColor: 'white',\r\n        borderRadius: '12px',\r\n        minHeight: '56px',\r\n        borderLeftWidth: '6px',\r\n        borderLeftColor: borderColor,\r\n        boxShadow: '0 1px 3px 0 rgb(0 0 0 / 0.1)',\r\n        cursor: 'pointer',\r\n        marginBottom: '8px',\r\n        opacity: task.completed ? 0.6 : 1,\r\n        transform: task.completed ? 'scale(0.98)' : 'scale(1)',\r\n        transition: 'all 0.2s',\r\n      }}\r\n    >\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n        gap: '16px',\r\n      }}>\r\n        {/* Completion Toggle */}\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleToggle();\r\n          }}\r\n          style={{\r\n            width: '28px',\r\n            height: '28px',\r\n            borderRadius: '14px',\r\n            border: '3px solid #E5E7EB',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backgroundColor: 'white',\r\n            cursor: 'pointer',\r\n          }}\r\n        >\r\n          {task.completed && (\r\n            <div\r\n              style={{\r\n                width: '18px',\r\n                height: '18px',\r\n                borderRadius: '9px',\r\n                backgroundColor: borderColor,\r\n              }}\r\n            />\r\n          )}\r\n        </button>\r\n\r\n        {/* Task Content */}\r\n        <div style={{ flex: 1 }}>\r\n          <Text\r\n            variant=\"body\"\r\n            style={{\r\n              textDecoration: task.completed ? 'line-through' : 'none',\r\n            }}\r\n          >\r\n            {task.title}\r\n          </Text>\r\n\r\n          {task.duration && (\r\n            <Text\r\n              variant=\"caption\"\r\n              style={{\r\n                marginTop: '6px',\r\n                color: '#9CA3AF',\r\n                fontSize: '13px',\r\n                fontWeight: '500',\r\n              }}\r\n            >\r\n              {task.duration} min\r\n            </Text>\r\n          )}\r\n        </div>\r\n\r\n        {/* Delete button */}\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleDelete();\r\n          }}\r\n          style={{\r\n            width: '32px',\r\n            height: '32px',\r\n            borderRadius: '16px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            cursor: 'pointer',\r\n            backgroundColor: 'transparent',\r\n            border: 'none',\r\n          }}\r\n        >\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#EF4444\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { Text } from '../../primitives';\r\n\r\nexport interface EmptyStateProps {\r\n  message: string;\r\n  icon?: string;\r\n  subMessage?: string;\r\n}\r\n\r\nexport const EmptyState: React.FC<EmptyStateProps> = ({\r\n  message,\r\n  icon,\r\n  subMessage,\r\n}) => {\r\n  return (\r\n    <div style={{\r\n      flex: 1,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '40px',\r\n      backgroundColor: 'transparent',\r\n    }}>\r\n      {/* Icon placeholder - would use actual icon library in production */}\r\n      {icon && (\r\n        <div style={{\r\n          width: '80px',\r\n          height: '80px',\r\n          marginBottom: '32px',\r\n          borderRadius: '40px',\r\n          backgroundColor: '#E0F2FE',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          boxShadow: '0 4px 8px 0 rgb(0 0 0 / 0.2)',\r\n        }}>\r\n          <Text variant=\"heading\" style={{\r\n            color: '#36C5F0',\r\n            fontSize: '32px',\r\n          }}>\r\n            âœ“\r\n          </Text>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main message */}\r\n      <Text variant=\"body\" style={{\r\n        color: '#374151',\r\n        textAlign: 'center',\r\n        marginBottom: '12px',\r\n        fontSize: '18px',\r\n        lineHeight: '28px',\r\n      }}>\r\n        {message}\r\n      </Text>\r\n\r\n      {/* Optional sub-message */}\r\n      {subMessage && (\r\n        <Text variant=\"caption\" style={{\r\n          color: '#9CA3AF',\r\n          textAlign: 'center',\r\n          fontSize: '16px',\r\n          lineHeight: '24px',\r\n        }}>\r\n          {subMessage}\r\n        </Text>\r\n      )}\r\n    </div>\r\n  );\r\n};","import React, { useEffect } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { useLumaStore } from '@luma/store';\nimport type { Task } from '@multi-platform-app/types';\nimport { Text } from '../../primitives';\nimport { Button } from '../../Button';\nimport { Timer } from '../../components/Timer';\nimport { HapticPatterns } from '@multi-platform-app/core';\n\nexport const FocusMode: React.FC = () => {\n  const currentTask = useLumaStore((state) =>\n    state.tasks.find((t: Task) => t.id === state.currentTaskId)\n  );\n  const elapsedTime = useLumaStore((state) => state.elapsedTime);\n  const endFocus = useLumaStore((state) => state.endFocus);\n  const toggleTask = useLumaStore((state) => state.toggleTask);\n  const setCurrentView = useLumaStore((state) => state.setCurrentView);\n\n  useEffect(() => {\n    // Increment elapsed time every second\n    const interval = setInterval(() => {\n      useLumaStore.getState().updateElapsedTime(useLumaStore.getState().elapsedTime + 1);\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleComplete = async () => {\n    if (!currentTask) return;\n\n    await HapticPatterns.taskComplete();\n    toggleTask(currentTask.id);\n    handleExit();\n  };\n\n  const handleExit = () => {\n    endFocus();\n    setCurrentView('timeline');\n  };\n\n  if (!currentTask) {\n    return (\n      <View style={styles.container}>\n        <Text variant=\"body\">\n          No task selected for focus mode\n        </Text>\n        <Button\n          onPress={handleExit}\n          variant=\"ghost\"\n          style={styles.button}\n        >\n          Go back\n        </Button>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      {/* Task Title */}\n      <View style={styles.titleContainer}>\n        <Text variant=\"heading\" style={styles.title}>\n          {currentTask.title}\n        </Text>\n      </View>\n\n      {/* Timer */}\n      <Timer elapsed={elapsedTime} />\n\n      {/* Actions */}\n      <View style={styles.actions}>\n        <Button\n          onPress={handleComplete}\n          variant=\"primary\"\n        >\n          Complete\n        </Button>\n\n        <Button\n          onPress={handleExit}\n          variant=\"ghost\"\n        >\n          Exit focus mode\n        </Button>\n      </View>\n\n      {/* Completion message placeholder */}\n      {currentTask.completed && (\n        <View style={styles.completionMessage}>\n          <Text variant=\"body\" style={styles.completionText}>\n            Well done. Take a moment.\n          </Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#FAFAF7',\n    padding: 24,\n  },\n  titleContainer: {\n    marginBottom: 48,\n  },\n  title: {\n    textAlign: 'center',\n    color: '#1A1A1A',\n  },\n  button: {\n    marginTop: 16,\n  },\n  actions: {\n    marginTop: 64,\n    gap: 16,\n    width: '100%',\n    maxWidth: 300,\n  },\n  completionMessage: {\n    marginTop: 32,\n  },\n  completionText: {\n    textAlign: 'center',\n    color: '#6B7280',\n  },\n});\n","import React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { Text } from '../../primitives';\n\ninterface TimerProps {\n  elapsed: number; // in seconds\n}\n\nexport const Timer: React.FC<TimerProps> = ({ elapsed }) => {\n  const formatTime = (seconds: number): string => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <View style={styles.container}>\n      {/* Circular background */}\n      <View style={styles.circle}>\n        {/* Time display */}\n        <Text variant=\"heading\" style={styles.time}>\n          {formatTime(elapsed)}\n        </Text>\n\n        {/* Label */}\n        <Text variant=\"caption\" style={styles.label}>\n          elapsed\n        </Text>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  circle: {\n    width: 192,\n    height: 192,\n    borderRadius: 96,\n    backgroundColor: '#F3F4F6',\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)',\n    elevation: 4,\n  },\n  time: {\n    fontSize: 48,\n    fontWeight: '300',\n    color: '#1A1A1A',\n  },\n  label: {\n    marginTop: 8,\n    color: '#6B7280',\n  },\n});\n","import { User, AuthTokens, AuthSession } from '@multi-platform-app/types'\r\n\r\n// Platform detection\r\nconst isWeb = typeof window !== 'undefined' && typeof document !== 'undefined'\r\nconst isReactNative = typeof navigator === 'undefined'\r\n\r\n// Mock implementations - NEVER try to import mobile deps during SSR\r\nconst getKeychain = () => {\r\n  // Only provide implementation on client-side web\r\n  if (isWeb && typeof window !== 'undefined') {\r\n    return {\r\n      setInternetCredentials: async (service: string, username: string, password: string) => {\r\n        localStorage.setItem(`${service}_${username}`, password)\r\n      },\r\n      getInternetCredentials: async (service: string) => {\r\n        const password = localStorage.getItem(`${service}_keychain`)\r\n        return password ? { username: 'web_user', password } : null\r\n      },\r\n      resetInternetCredentials: async (service: string) => {\r\n        localStorage.removeItem(`${service}_keychain`)\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Server-side or React Native - return null (will be handled gracefully)\r\n  return null\r\n}\r\n\r\nconst getLocalAuth = () => {\r\n  // Only provide implementation on client-side web\r\n  if (isWeb && typeof window !== 'undefined') {\r\n    return {\r\n      hasHardwareAsync: async () => false,\r\n      isEnrolledAsync: async () => false,\r\n      authenticateAsync: async () => ({ success: false, error: 'Not supported on web' })\r\n    }\r\n  }\r\n  \r\n  // Server-side or React Native - return null (will be handled gracefully)\r\n  return null\r\n}\r\n\r\nexport class AuthService {\r\n  private static instance: AuthService\r\n  private keychain: any = null\r\n  private localAuth: any = null\r\n\r\n  private constructor() {\r\n    this.keychain = getKeychain()\r\n    this.localAuth = getLocalAuth()\r\n  }\r\n\r\n  static getInstance(): AuthService {\r\n    if (!AuthService.instance) {\r\n      AuthService.instance = new AuthService()\r\n    }\r\n    return AuthService.instance\r\n  }\r\n\r\n  /**\r\n   * Login with email and password\r\n   */\r\n  async login(email: string, password: string): Promise<AuthSession> {\r\n    try {\r\n      // Simulate API call\r\n      const response = await this.makeAuthRequest('/auth/login', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ email, password }),\r\n      })\r\n\r\n      const { user, tokens } = response\r\n\r\n      // Store tokens securely\r\n      await this.storeTokens(tokens)\r\n\r\n      // Create session\r\n      const session: AuthSession = {\r\n        user,\r\n        tokens,\r\n        isAuthenticated: true,\r\n        lastActivity: new Date(),\r\n      }\r\n\r\n      return session\r\n    } catch (error) {\r\n      throw new Error(`Authentication failed: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Login with biometric authentication\r\n   */\r\n  async biometricLogin(): Promise<AuthSession> {\r\n    if (!this.localAuth) {\r\n      throw new Error('Biometric authentication not available')\r\n    }\r\n\r\n    try {\r\n      // Check if biometric hardware is available\r\n      const hasHardware = await this.localAuth.hasHardwareAsync()\r\n      if (!hasHardware) {\r\n        throw new Error('Biometric hardware not available')\r\n      }\r\n\r\n      // Check if biometric data is enrolled\r\n      const isEnrolled = await this.localAuth.isEnrolledAsync()\r\n      if (!isEnrolled) {\r\n        throw new Error('No biometric data enrolled')\r\n      }\r\n\r\n      // Authenticate user\r\n      const result = await this.localAuth.authenticateAsync({\r\n        promptMessage: 'Authenticate to access the app',\r\n        fallbackLabel: 'Use password',\r\n        cancelLabel: 'Cancel',\r\n      })\r\n\r\n      if (!result.success) {\r\n        throw new Error('Biometric authentication failed')\r\n      }\r\n\r\n      // Retrieve stored tokens\r\n      const tokens = await this.getStoredTokens()\r\n      if (!tokens) {\r\n        throw new Error('No stored authentication data')\r\n      }\r\n\r\n      // Get user data\r\n      const user = await this.getStoredUser()\r\n      if (!user) {\r\n        throw new Error('No stored user data')\r\n      }\r\n\r\n      // Create session\r\n      const session: AuthSession = {\r\n        user,\r\n        tokens,\r\n        isAuthenticated: true,\r\n        lastActivity: new Date(),\r\n      }\r\n\r\n      return session\r\n    } catch (error) {\r\n      throw new Error(`Biometric login failed: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup biometric authentication\r\n   */\r\n  async setupBiometricAuth(): Promise<boolean> {\r\n    if (!this.localAuth) {\r\n      throw new Error('Biometric authentication not available')\r\n    }\r\n\r\n    try {\r\n      // Check hardware availability\r\n      const hasHardware = await this.localAuth.hasHardwareAsync()\r\n      if (!hasHardware) {\r\n        throw new Error('Biometric hardware not available')\r\n      }\r\n\r\n      // Enroll biometric data\r\n      const result = await this.localAuth.authenticateAsync({\r\n        promptMessage: 'Enable biometric authentication',\r\n        fallbackLabel: 'Use password',\r\n      })\r\n\r\n      if (result.success) {\r\n        // Store biometric setup flag\r\n        await this.storeBiometricSetup(true)\r\n        return true\r\n      }\r\n\r\n      return false\r\n    } catch (error) {\r\n      throw new Error(`Biometric setup failed: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if biometric authentication is available and enabled\r\n   */\r\n  async isBiometricAvailable(): Promise<boolean> {\r\n    if (!this.localAuth) {\r\n      return false\r\n    }\r\n\r\n    try {\r\n      const hasHardware = await this.localAuth.hasHardwareAsync()\r\n      const isEnrolled = await this.localAuth.isEnrolledAsync()\r\n      const isSetup = await this.isBiometricSetup()\r\n\r\n      return hasHardware && isEnrolled && isSetup\r\n    } catch (error) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Refresh authentication token\r\n   */\r\n  async refreshToken(): Promise<AuthTokens> {\r\n    try {\r\n      const currentTokens = await this.getStoredTokens()\r\n      if (!currentTokens?.refreshToken) {\r\n        throw new Error('No refresh token available')\r\n      }\r\n\r\n      const response = await this.makeAuthRequest('/auth/refresh', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ refreshToken: currentTokens.refreshToken }),\r\n      })\r\n\r\n      const newTokens = response.tokens\r\n      await this.storeTokens(newTokens)\r\n\r\n      return newTokens\r\n    } catch (error) {\r\n      throw new Error(`Token refresh failed: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Logout user\r\n   */\r\n  async logout(): Promise<void> {\r\n    try {\r\n      // Clear stored data\r\n      await this.clearStoredData()\r\n      \r\n      // Notify server (optional)\r\n      try {\r\n        await this.makeAuthRequest('/auth/logout', { method: 'POST' })\r\n      } catch (error) {\r\n        // Continue logout even if server call fails\r\n        console.warn('Server logout failed:', error)\r\n      }\r\n    } catch (error) {\r\n      throw new Error(`Logout failed: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current authentication session\r\n   */\r\n  async getCurrentSession(): Promise<AuthSession | null> {\r\n    try {\r\n      const tokens = await this.getStoredTokens()\r\n      const user = await this.getStoredUser()\r\n\r\n      if (!tokens || !user) {\r\n        return null\r\n      }\r\n\r\n      // Check if token is expired\r\n      if (new Date() >= new Date(tokens.expiresAt)) {\r\n        // Try to refresh token\r\n        try {\r\n          const newTokens = await this.refreshToken()\r\n          return {\r\n            user,\r\n            tokens: newTokens,\r\n            isAuthenticated: true,\r\n            lastActivity: new Date(),\r\n          }\r\n        } catch (error) {\r\n          // Token refresh failed, clear session\r\n          await this.clearStoredData()\r\n          return null\r\n        }\r\n      }\r\n\r\n      return {\r\n        user,\r\n        tokens,\r\n        isAuthenticated: true,\r\n        lastActivity: new Date(),\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to get current session:', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if user is authenticated\r\n   */\r\n  async isAuthenticated(): Promise<boolean> {\r\n    const session = await this.getCurrentSession()\r\n    return session !== null\r\n  }\r\n\r\n  // Private methods\r\n\r\n  private async makeAuthRequest(endpoint: string, options: RequestInit): Promise<any> {\r\n    const baseUrl = process.env.EXPO_PUBLIC_API_URL || 'http://localhost:3000'\r\n    const url = `${baseUrl}${endpoint}`\r\n\r\n    const response = await fetch(url, {\r\n     ...options,\r\n     headers: {\r\n       'Content-Type': 'application/json',\r\n       ...options.headers,\r\n     },\r\n   })\r\n\r\n   if (!response.ok) {\r\n     const errorData = await response.json().catch(() => ({ message: 'Unknown error' }))\r\n     throw new Error(errorData.message || 'Authentication request failed')\r\n   }\r\n\r\n   return response.json()\r\n  }\r\n\r\n  private async storeTokens(tokens: AuthTokens): Promise<void> {\r\n    try {\r\n      if (this.keychain) {\r\n        await this.keychain.setInternetCredentials(\r\n          'auth_tokens',\r\n          tokens.accessToken,\r\n          tokens.refreshToken\r\n        )\r\n      } else {\r\n        // Web fallback - use localStorage\r\n        localStorage.setItem('auth_tokens', JSON.stringify(tokens))\r\n      }\r\n    } catch (error) {\r\n      throw new Error(`Failed to store tokens: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  private async getStoredTokens(): Promise<AuthTokens | null> {\r\n    try {\r\n      if (this.keychain) {\r\n        const credentials = await this.keychain.getInternetCredentials('auth_tokens')\r\n        if (credentials) {\r\n          return {\r\n            accessToken: credentials.username,\r\n            refreshToken: credentials.password,\r\n            expiresAt: new Date(Date.now() + 3600000), // 1 hour\r\n            tokenType: 'Bearer',\r\n          }\r\n        }\r\n      } else {\r\n        // Web fallback\r\n        const stored = localStorage.getItem('auth_tokens')\r\n        if (stored) {\r\n          return JSON.parse(stored)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to retrieve tokens:', error)\r\n    }\r\n    return null\r\n  }\r\n\r\n  private async storeUser(user: User): Promise<void> {\r\n    try {\r\n      if (this.keychain) {\r\n        await this.keychain.setInternetCredentials('user_data', user.id, JSON.stringify(user))\r\n      } else {\r\n        // Web fallback\r\n        localStorage.setItem('user_data', JSON.stringify(user))\r\n      }\r\n    } catch (error) {\r\n      throw new Error(`Failed to store user data: ${(error as Error).message}`)\r\n    }\r\n  }\r\n\r\n  private async getStoredUser(): Promise<User | null> {\r\n    try {\r\n      if (this.keychain) {\r\n        const credentials = await this.keychain.getInternetCredentials('user_data')\r\n        if (credentials) {\r\n          return JSON.parse(credentials.password)\r\n        }\r\n      } else {\r\n        // Web fallback\r\n        const stored = localStorage.getItem('user_data')\r\n        if (stored) {\r\n          return JSON.parse(stored)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to retrieve user data:', error)\r\n    }\r\n    return null\r\n  }\r\n\r\n  private async storeBiometricSetup(enabled: boolean): Promise<void> {\r\n    try {\r\n      if (this.keychain) {\r\n        await this.keychain.setInternetCredentials('biometric_setup', 'enabled', enabled.toString())\r\n      } else {\r\n        // Web fallback\r\n        localStorage.setItem('biometric_setup', enabled.toString())\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to store biometric setup:', error)\r\n    }\r\n  }\r\n\r\n  private async isBiometricSetup(): Promise<boolean> {\r\n    try {\r\n      if (this.keychain) {\r\n        const credentials = await this.keychain.getInternetCredentials('biometric_setup')\r\n        return credentials && credentials.password === 'true'\r\n      } else {\r\n        // Web fallback\r\n        return localStorage.getItem('biometric_setup') === 'true'\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to check biometric setup:', error)\r\n      return false\r\n    }\r\n  }\r\n\r\n  private async clearStoredData(): Promise<void> {\r\n    try {\r\n      if (this.keychain) {\r\n        await this.keychain.resetInternetCredentials('auth_tokens')\r\n        await this.keychain.resetInternetCredentials('user_data')\r\n        await this.keychain.resetInternetCredentials('biometric_setup')\r\n      } else {\r\n        // Web fallback\r\n        localStorage.removeItem('auth_tokens')\r\n        localStorage.removeItem('user_data')\r\n        localStorage.removeItem('biometric_setup')\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to clear stored data:', error)\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const authService = AuthService.getInstance()","/**\n * Haptic Feedback System\n *\n * Platform-agnostic haptic feedback service that provides tactile feedback\n * for user interactions. Respects user preferences and gracefully degrades\n * on platforms that don't support haptics (web).\n *\n * ADHD-Critical: Haptic feedback provides visceral confirmation without\n * demanding visual attention, reducing cognitive load.\n */\n\nexport type HapticType = 'light' | 'medium' | 'heavy' | 'success' | 'error' | 'warning';\n\n/**\n * Haptic feedback service interface\n * Platform-specific implementations are loaded automatically\n */\nexport interface HapticService {\n  /**\n   * Trigger haptic feedback\n   * @param type - Type of haptic feedback to trigger\n   * @returns Promise that resolves when haptic completes\n   */\n  trigger(type: HapticType): Promise<void>;\n\n  /**\n   * Check if haptics are available on this platform\n   * @returns true if haptics are supported\n   */\n  isAvailable(): boolean;\n\n  /**\n   * Check if haptics are enabled in user settings\n   * @returns Promise that resolves to true if haptics are enabled\n   */\n  isEnabled(): boolean | Promise<boolean>;\n}\n\n/**\n * Haptic feedback trigger function\n * Automatically checks availability and user preferences\n *\n * @example\n * ```typescript\n * // In a button press handler\n * await haptic('medium');\n *\n * // In task completion\n * await haptic('success');\n *\n * // In error state\n * await haptic('error');\n * ```\n */\nexport async function haptic(type: HapticType): Promise<void> {\n  const { HapticServiceImpl } = await import('./platformHaptics');\n  const service = new HapticServiceImpl();\n\n  if (!service.isAvailable()) {\n    return; // Platform doesn't support haptics\n  }\n\n  const enabled = await service.isEnabled();\n  if (!enabled) {\n    return; // User has disabled haptics\n  }\n\n  await service.trigger(type);\n}\n\n/**\n * Hook for haptic feedback in components\n * Returns a memoized trigger function\n *\n * @example\n * ```typescript\n * function MyButton() {\n *   const triggerHaptic = useHaptic();\n *\n *   const handlePress = async () => {\n *     await triggerHaptic('medium');\n *     // ... rest of handler\n *   };\n * }\n * ```\n */\nexport function useHaptic() {\n  return async (type: HapticType) => {\n    await haptic(type);\n  };\n}\n\n/**\n * Haptic feedback patterns for common interactions\n */\nexport const HapticPatterns = {\n  // Button interactions\n  buttonPress: () => haptic('medium'),\n  buttonLight: () => haptic('light'),\n\n  // Task interactions\n  taskComplete: () => haptic('success'),\n  taskDelete: () => haptic('warning'),\n\n  // Navigation\n  swipe: () => haptic('light'),\n  modalDismiss: () => haptic('medium'),\n\n  // State changes\n  toggleOn: () => haptic('light'),\n  toggleOff: () => haptic('light'),\n\n  // Feedback\n  success: () => haptic('success'),\n  error: () => haptic('error'),\n  warning: () => haptic('warning'),\n} as const;\n","export * from './authService';\nexport * from './haptics';\nexport * from './voice';\n\n// Export HapticServiceImpl as HapticService for backward compatibility\nexport { HapticServiceImpl as HapticService } from './haptics/platformHaptics';","import React from 'react';\nimport { View, ScrollView, Platform } from 'react-native';\nimport { Text, Stack, Surface, Toggle, Touchable } from '../../primitives';\nimport { useAppStore } from '@luma/store';\n\ninterface SettingRowProps {\n  label: string;\n  value?: string;\n  onPress?: () => void;\n  showChevron?: boolean;\n  children?: React.ReactNode;\n}\n\nconst SettingRow: React.FC<SettingRowProps> = ({\n  label,\n  value,\n  onPress,\n  showChevron = false,\n  children,\n}) => {\n  const content = (\n    <View\n      style={{\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        paddingVertical: 16,\n        paddingHorizontal: 16,\n      }}\n    >\n      <Text variant=\"body\">{label}</Text>\n      {children || (\n        <View style={{ flexDirection: 'row', alignItems: 'center', gap: 8 }}>\n          {value && (\n            <Text variant=\"caption\" style={{ opacity: 0.6 }}>\n              {value}\n            </Text>\n          )}\n          {showChevron && (\n            <Text variant=\"caption\" style={{ opacity: 0.4 }}>\n              â€º\n            </Text>\n          )}\n        </View>\n      )}\n    </View>\n  );\n\n  if (onPress) {\n    return <Touchable onPress={onPress}>{content}</Touchable>;\n  }\n\n  return content;\n};\n\ninterface SettingSectionProps {\n  title: string;\n  children: React.ReactNode;\n}\n\nconst SettingSection: React.FC<SettingSectionProps> = ({ title, children }) => {\n  return (\n    <View style={{ marginBottom: 32 }}>\n      <Text\n        variant=\"label\"\n        style={{\n          paddingHorizontal: 16,\n          paddingBottom: 8,\n          opacity: 0.6,\n          textTransform: 'uppercase',\n          fontSize: 13,\n          letterSpacing: 0.5,\n        }}\n      >\n        {title}\n      </Text>\n      <Surface elevation={0} style={{ borderRadius: 12, overflow: 'hidden' }}>\n        {children}\n      </Surface>\n    </View>\n  );\n};\n\nexport const Settings: React.FC = () => {\n  const { settings, updateSettings } = useAppStore();\n\n  // TODO: Implement actual premium check\n  const isPremium = false;\n\n  const updateSetting = (key: string, value: any) => {\n    updateSettings({ [key]: value });\n  };\n\n  const getSystemPreference = (setting: string): string => {\n    // This would ideally detect actual system preferences\n    // For now, return placeholder\n    if (setting === 'theme') {\n      return 'Dark';\n    }\n    if (setting === 'reducedMotion') {\n      return 'Off';\n    }\n    return 'Unknown';\n  };\n\n  const getThemeLabel = (): string => {\n    if (settings.theme === 'system') {\n      return `System (${getSystemPreference('theme')})`;\n    }\n    return settings.theme.charAt(0).toUpperCase() + settings.theme.slice(1);\n  };\n\n  const handleThemeChange = () => {\n    // Cycle through theme options\n    const themes = ['system', 'light', 'dark'] as const;\n    const currentIndex = themes.indexOf(settings.theme as any);\n    const nextIndex = (currentIndex + 1) % themes.length;\n    updateSetting('theme', themes[nextIndex]);\n  };\n\n  const getAIProviderLabel = (): string => {\n    if (!settings.aiProvider) return 'Cloudflare';\n    return settings.aiProvider.charAt(0).toUpperCase() + settings.aiProvider.slice(1);\n  };\n\n  const handleAIProviderChange = () => {\n    if (!isPremium) return; // Only premium users can change AI provider\n\n    // Cycle through AI provider options for premium users\n    const providers = ['anthropic', 'openai'] as const;\n    const current = settings.aiProvider || 'anthropic';\n    const currentIndex = providers.indexOf(current as any);\n    const nextIndex = (currentIndex + 1) % providers.length;\n    updateSetting('aiProvider', providers[nextIndex]);\n  };\n\n  return (\n    <ScrollView\n      style={{\n        flex: 1,\n        backgroundColor: Platform.OS === 'web' ? 'transparent' : '#FAFAF7',\n      }}\n      contentContainerStyle={{ padding: 16, paddingTop: 24 }}\n    >\n      <Stack spacing=\"lg\">\n        {/* Appearance */}\n        <SettingSection title=\"Appearance\">\n          <SettingRow\n            label=\"Theme\"\n            value={getThemeLabel()}\n            onPress={handleThemeChange}\n            showChevron\n          />\n          <View\n            style={{\n              height: 1,\n              backgroundColor: 'rgba(0,0,0,0.05)',\n              marginHorizontal: 16,\n            }}\n          />\n          <SettingRow label=\"Reduced Motion\">\n            <Toggle\n              value={settings.reducedMotion}\n              onValueChange={value => updateSetting('reducedMotion', value)}\n            />\n          </SettingRow>\n          <View\n            style={{\n              height: 1,\n              backgroundColor: 'rgba(0,0,0,0.05)',\n              marginHorizontal: 16,\n            }}\n          />\n          <SettingRow label=\"High Contrast\">\n            <Toggle\n              value={settings.highContrast || false}\n              onValueChange={value => updateSetting('highContrast', value)}\n            />\n          </SettingRow>\n        </SettingSection>\n\n        {/* Notifications */}\n        <SettingSection title=\"Notifications\">\n          <SettingRow label=\"Gentle Nudges\">\n            <Toggle\n              value={settings.gentleNudges || true}\n              onValueChange={value => updateSetting('gentleNudges', value)}\n            />\n          </SettingRow>\n          <View\n            style={{\n              height: 1,\n              backgroundColor: 'rgba(0,0,0,0.05)',\n              marginHorizontal: 16,\n            }}\n          />\n          <SettingRow label=\"Daily Reflection\">\n            <Toggle\n              value={settings.dailyReflection || false}\n              onValueChange={value => updateSetting('dailyReflection', value)}\n            />\n          </SettingRow>\n        </SettingSection>\n\n        {/* Accessibility */}\n        <SettingSection title=\"Accessibility\">\n          <SettingRow\n            label=\"Font Size\"\n            value={\n              settings.fontSize\n                ? settings.fontSize.charAt(0).toUpperCase() +\n                  settings.fontSize.slice(1)\n                : 'Medium'\n            }\n            onPress={() => {\n              const sizes = ['small', 'medium', 'large'] as const;\n              const current = settings.fontSize || 'medium';\n              const currentIndex = sizes.indexOf(current as any);\n              const nextIndex = (currentIndex + 1) % sizes.length;\n              updateSetting('fontSize', sizes[nextIndex]);\n            }}\n            showChevron\n          />\n          {Platform.OS !== 'web' && (\n            <>\n              <View\n                style={{\n                  height: 1,\n                  backgroundColor: 'rgba(0,0,0,0.05)',\n                  marginHorizontal: 16,\n                }}\n              />\n              <SettingRow label=\"Haptic Feedback\">\n                <Toggle\n                  value={settings.hapticFeedback}\n                  onValueChange={value => updateSetting('hapticFeedback', value)}\n                />\n              </SettingRow>\n              <View\n                style={{\n                  height: 1,\n                  backgroundColor: 'rgba(0,0,0,0.05)',\n                  marginHorizontal: 16,\n                }}\n              />\n              <SettingRow label=\"Voice Input\">\n                <Toggle\n                  value={settings.voiceInput}\n                  onValueChange={value => updateSetting('voiceInput', value)}\n                />\n              </SettingRow>\n            </>\n          )}\n        </SettingSection>\n\n        {/* Capacity Default */}\n        <SettingSection title=\"Planning\">\n          <SettingRow\n            label=\"Default Capacity\"\n            value={\n              settings.defaultCapacity\n                ? settings.defaultCapacity.charAt(0).toUpperCase() +\n                  settings.defaultCapacity.slice(1)\n                : 'Medium'\n            }\n            onPress={() => {\n              const capacities = ['light', 'medium', 'full'] as const;\n              const current = settings.defaultCapacity || 'medium';\n              const currentIndex = capacities.indexOf(current as any);\n              const nextIndex = (currentIndex + 1) % capacities.length;\n              updateSetting('defaultCapacity', capacities[nextIndex]);\n            }}\n            showChevron\n          />\n        </SettingSection>\n\n        {/* AI Provider (Premium only) */}\n        {isPremium && (\n          <SettingSection title=\"AI Provider\">\n            <SettingRow\n              label=\"AI Model\"\n              value={getAIProviderLabel()}\n              onPress={handleAIProviderChange}\n              showChevron\n            />\n          </SettingSection>\n        )}\n\n        {/* Account */}\n        <SettingSection title=\"Account\">\n          <SettingRow label=\"Email\" value=\"user@example.com\" />\n          <View\n            style={{\n              height: 1,\n              backgroundColor: 'rgba(0,0,0,0.05)',\n              marginHorizontal: 16,\n            }}\n          />\n          <SettingRow\n            label=\"Sign Out\"\n            onPress={() => {\n              // Handle sign out\n              console.log('Sign out');\n            }}\n            showChevron\n          />\n          <View\n            style={{\n              height: 1,\n              backgroundColor: 'rgba(0,0,0,0.05)',\n              marginHorizontal: 16,\n            }}\n          />\n          <SettingRow\n            label=\"Delete Account\"\n            onPress={() => {\n              // Handle delete account with confirmation\n              console.log('Delete account');\n            }}\n          >\n            <Text variant=\"caption\" style={{ color: '#DC2626' }}>\n              Delete\n            </Text>\n          </SettingRow>\n        </SettingSection>\n      </Stack>\n    </ScrollView>\n  );\n};\n","import React, { useState } from 'react';\nimport { View, ScrollView, Platform } from 'react-native';\nimport { Text, Stack, Spacer } from '../../primitives';\nimport { Button } from '../../Button';\nimport { useAppStore } from '@luma/store';\n\ninterface WelcomeStep {\n  title: string;\n  description: string;\n  emoji?: string;\n}\n\nconst welcomeSteps: WelcomeStep[] = [\n  {\n    title: 'Welcome to Luma Now',\n    description: 'A calm place to plan your day without overwhelm.',\n    emoji: 'âœ¨',\n  },\n  {\n    title: 'Brain Dump',\n    description:\n      'Pour out all your thoughts. AI will help you organize them into a realistic timeline.',\n    emoji: 'ðŸ§ ',\n  },\n  {\n    title: 'Choose Your Capacity',\n    description:\n      \"How much energy do you have today? We'll help you plan accordingly.\",\n    emoji: 'ðŸ”‹',\n  },\n  {\n    title: 'Focus Mode',\n    description: 'One task at a time. No pressure, just progress.',\n    emoji: 'ðŸŽ¯',\n  },\n];\n\ninterface CapacityOption {\n  value: 'light' | 'medium' | 'full';\n  tasks: number;\n  label: string;\n  description: string;\n  emoji: string;\n}\n\nconst capacityOptions: CapacityOption[] = [\n  {\n    value: 'light',\n    tasks: 3,\n    label: 'Light Day',\n    description: 'Taking it easy today',\n    emoji: 'ðŸŒ™',\n  },\n  {\n    value: 'medium',\n    tasks: 5,\n    label: 'Medium Day',\n    description: 'Balanced and sustainable',\n    emoji: 'â˜€ï¸',\n  },\n  {\n    value: 'full',\n    tasks: 7,\n    label: 'Full Day',\n    description: 'Ready to tackle more',\n    emoji: 'âš¡',\n  },\n];\n\ninterface WelcomeProps {\n  onComplete: () => void;\n}\n\nexport const Welcome: React.FC<WelcomeProps> = ({ onComplete }) => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [showTour, setShowTour] = useState(false);\n  const [selectedCapacity, setSelectedCapacity] = useState<\n    'light' | 'medium' | 'full'\n  >('medium');\n  const { updateSettings } = useAppStore();\n\n  const isFirstStep = currentStep === 0;\n  const isLastStep = currentStep === welcomeSteps.length - 1;\n\n  const handleNext = () => {\n    if (currentStep === 0 && !showTour) {\n      // User chose to skip tour, go straight to capacity selection\n      handleComplete();\n      return;\n    }\n\n    if (isLastStep) {\n      handleComplete();\n    } else {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const handleSkipTour = () => {\n    setShowTour(false);\n    handleComplete();\n  };\n\n  const handleComplete = () => {\n    // Save default capacity\n    updateSettings({ defaultCapacity: selectedCapacity, hasCompletedOnboarding: true });\n    onComplete();\n  };\n\n  if (!showTour && currentStep === 0) {\n    // Welcome screen with option to take tour or skip\n    return (\n      <View\n        style={{\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          padding: 32,\n          backgroundColor: '#FAFAF7',\n        }}\n      >\n        <Stack spacing=\"xl\" style={{ maxWidth: 400, width: '100%' }}>\n          <View style={{ alignItems: 'center' }}>\n            <Text\n              variant=\"display\"\n              style={{ fontSize: 48, marginBottom: 16, textAlign: 'center' }}\n            >\n              âœ¨\n            </Text>\n            <Text\n              variant=\"heading\"\n              style={{ fontSize: 28, marginBottom: 8, textAlign: 'center' }}\n            >\n              Welcome to Luma Now\n            </Text>\n            <Text\n              variant=\"body\"\n              style={{ opacity: 0.7, textAlign: 'center', lineHeight: 24 }}\n            >\n              A calm place to plan your day without overwhelm.\n            </Text>\n          </View>\n\n          <Spacer size=\"lg\" />\n\n          {/* Capacity Selection */}\n          <View>\n            <Text\n              variant=\"label\"\n              style={{\n                marginBottom: 16,\n                textAlign: 'center',\n                fontSize: 16,\n                opacity: 0.8,\n              }}\n            >\n              What feels right for most days?\n            </Text>\n\n            <Stack spacing=\"sm\">\n              {capacityOptions.map(option => (\n                <Button\n                  key={option.value}\n                  variant={\n                    selectedCapacity === option.value ? 'primary' : 'secondary'\n                  }\n                  onPress={() => setSelectedCapacity(option.value)}\n                  style={{\n                    paddingVertical: 16,\n                    borderWidth: selectedCapacity === option.value ? 2 : 1,\n                    borderColor:\n                      selectedCapacity === option.value\n                        ? '#6B85A6'\n                        : 'rgba(0,0,0,0.1)',\n                  }}\n                >\n                  <View\n                    style={{\n                      flexDirection: 'row',\n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                      width: '100%',\n                    }}\n                  >\n                    <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                      <Text style={{ fontSize: 24, marginRight: 12 }}>\n                        {option.emoji}\n                      </Text>\n                      <View>\n                        <Text\n                          variant=\"body\"\n                          style={{\n                            fontWeight: '600',\n                            color:\n                              selectedCapacity === option.value\n                                ? '#1A1A1A'\n                                : '#4A4A4A',\n                          }}\n                        >\n                          {option.label}\n                        </Text>\n                        <Text\n                          variant=\"caption\"\n                          style={{\n                            opacity: 0.6,\n                            color:\n                              selectedCapacity === option.value\n                                ? '#1A1A1A'\n                                : '#6B7280',\n                          }}\n                        >\n                          {option.description}\n                        </Text>\n                      </View>\n                    </View>\n                    <Text\n                      variant=\"caption\"\n                      style={{\n                        opacity: 0.5,\n                        color:\n                          selectedCapacity === option.value\n                            ? '#1A1A1A'\n                            : '#6B7280',\n                      }}\n                    >\n                      {option.tasks} tasks\n                    </Text>\n                  </View>\n                </Button>\n              ))}\n            </Stack>\n          </View>\n\n          <Spacer size=\"lg\" />\n\n          <Stack spacing=\"sm\">\n            <Button variant=\"primary\" onPress={() => setShowTour(true)}>\n              Take a Quick Tour\n            </Button>\n            <Button variant=\"ghost\" onPress={handleComplete}>\n              Skip Tour\n            </Button>\n          </Stack>\n        </Stack>\n      </View>\n    );\n  }\n\n  // Tour screens\n  const step = welcomeSteps[currentStep];\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: 'space-between',\n        padding: 32,\n        backgroundColor: '#FAFAF7',\n      }}\n    >\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n        <Stack spacing=\"xl\" style={{ maxWidth: 400, width: '100%' }}>\n          {/* Progress indicator */}\n          <View\n            style={{\n              flexDirection: 'row',\n              justifyContent: 'center',\n              gap: 8,\n            }}\n          >\n            {welcomeSteps.map((_, index) => (\n              <View\n                key={index}\n                style={{\n                  width: 8,\n                  height: 8,\n                  borderRadius: 4,\n                  backgroundColor:\n                    index === currentStep\n                      ? '#6B85A6'\n                      : 'rgba(107, 133, 166, 0.2)',\n                }}\n              />\n            ))}\n          </View>\n\n          <View style={{ alignItems: 'center' }}>\n            {step.emoji && (\n              <Text\n                variant=\"display\"\n                style={{ fontSize: 64, marginBottom: 24, textAlign: 'center' }}\n              >\n                {step.emoji}\n              </Text>\n            )}\n            <Text\n              variant=\"heading\"\n              style={{ fontSize: 28, marginBottom: 16, textAlign: 'center' }}\n            >\n              {step.title}\n            </Text>\n            <Text\n              variant=\"body\"\n              style={{\n                opacity: 0.7,\n                textAlign: 'center',\n                lineHeight: 26,\n                fontSize: 18,\n              }}\n            >\n              {step.description}\n            </Text>\n          </View>\n        </Stack>\n      </View>\n\n      {/* Navigation */}\n      <Stack spacing=\"sm\">\n        <Button variant=\"primary\" onPress={handleNext}>\n          {isLastStep ? \"Let's Start\" : 'Next'}\n        </Button>\n        {!isLastStep && (\n          <Button variant=\"ghost\" onPress={handleSkipTour}>\n            Skip Tour\n          </Button>\n        )}\n      </Stack>\n    </View>\n  );\n};\n","/**\n * Swipeable Gesture Component\n *\n * Universal swipe gesture handler with haptic feedback.\n * Platform-specific implementations for web and native.\n *\n * ADHD-Critical: Gestures reduce cognitive load - muscle memory\n * instead of visual search. Swipe-to-complete is faster than\n * finding and tapping a checkbox.\n */\n\nimport React from 'react';\n\nexport interface SwipeableProps {\n  children: React.ReactNode;\n  onSwipeRight?: () => void;\n  onSwipeLeft?: () => void;\n  swipeThreshold?: number;\n  enabled?: boolean;\n  rightActionColor?: string;\n  leftActionColor?: string;\n  rightActionLabel?: string;\n  leftActionLabel?: string;\n}\n\n/**\n * Swipeable wrapper component\n * Platform-specific implementation loaded automatically\n *\n * @example\n * ```typescript\n * <Swipeable\n *   onSwipeRight={() => completeTask(task.id)}\n *   onSwipeLeft={() => deleteTask(task.id)}\n *   rightActionLabel=\"Complete\"\n *   leftActionLabel=\"Delete\"\n * >\n *   <TaskCard task={task} />\n * </Swipeable>\n * ```\n */\nexport const Swipeable: React.FC<SwipeableProps> = ({ children }) => {\n  // Base implementation - will be overridden by platform-specific files\n  return <>{children}</>;\n};\n"],"mappings":"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","names":["categoryColors","backgroundTints","accentColors","baseColors","semanticColors","chartColors","init_colors","__esmMin","fonts","fontSizes","fontWeights","letterSpacing","getPlatformFont","fontStack","init_typography","__esmMin","spacing","spacingScale","componentSpacing","borderRadius","init_spacing","__esmMin","getButtonStyles","init_styles","__esmMin","init_colors","init_typography","init_spacing","variant","size","disabled","fullWidth","sizeConfig","spacing","fontSizes","variantConfig","baseColors","categoryColors","config","variantStyles","borderRadius","getPlatformFont","fontWeights","duration","easing","easingCSS","transitions","transitionsCSS","motionVariants","processingDotsConfig","interactionPresets","shouldReduceMotion","init_motion","__esmMin","shadows","shadowsCSS","focusRing","focusRingCSS","focusRingCSSVariants","innerShadows","init_shadows","__esmMin","Button_web_exports","__export","Button","import_react","import_jsx_runtime","init_Button_web","__esmMin","init_Button","init_motion","init_shadows","children","onPress","variant","size","disabled","loading","fullWidth","accessibilityLabel","testID","style","isPressed","setIsPressed","baseStyles","getButtonStyles","buttonStyle","duration","easing","loadingSpinner","e","focusRingCSS","Button_native_exports","__export","Button","import_react_native","import_jsx_runtime","triggerHaptic","init_Button_native","__esmMin","init_Button","type","children","onPress","variant","size","disabled","loading","fullWidth","hapticFeedback","accessibilityLabel","testID","style","baseStyles","getButtonStyles","handlePress","buttonStyle","textStyle","content","pressed","import_jsx_runtime","isWeb","WebButton","NativeButton","Button","init_Button","__esmMin","init_styles","props","init_Button","__esmMin","init_styles","import_jsx_runtime","getVariantStyles","getTextBaseStyles","isWeb","PlatformText","init_Text","__esmMin","init_typography","init_colors","variant","fontSizes","fontWeights","color","weight","align","variantStyles","baseColors","getPlatformFont","Text_web_exports","__export","Text","getTextBaseStyles","getVariantStyles","import_jsx_runtime","init_Text_web","__esmMin","init_Text","variant","children","style","numberOfLines","selectable","testID","webStyle","Modal_web_exports","__export","Modal","import_react","import_react_dom","import_jsx_runtime","init_Modal_web","__esmMin","init_spacing","init_motion","visible","onClose","children","dismissible","testID","contentRef","handleEscape","e","overlayStyle","duration","easing","contentStyle","borderRadius","modal","style","useReducedMotion","prefersReducedMotion","setPrefersReducedMotion","shouldReduceMotion","mediaQuery","handleChange","event","useAnimationDuration","duration","useShouldAnimate","useAnimationState","isVisible","state","setState","timer","import_react","init_hooks","__esmMin","init_motion","ProcessingDots","className","color","size","spacing","shouldReduce","useReducedMotion","activeDot","setActiveDot","interval","prev","processingDotsConfig","dots","_","index","ProcessingText","text","import_react","import_jsx_runtime","init_ProcessingDots","__esmMin","init_motion","init_hooks","BrainDump_web_exports","__export","BrainDump","text","onTextChange","onCompress","isProcessing","error","className","placeholder","textareaRef","updateTextareaHeight","textarea","newHeight","handleTextChange","e","handleCompress","isDisabled","ProcessingDots","import_react","import_jsx_runtime","init_BrainDump_web","__esmMin","init_ProcessingDots","BrainDump_exports","__export","BrainDump","init_BrainDump","__esmMin","VoiceInput","init_VoiceInput","__esmMin","BrainDump_native_exports","__export","BrainDump","text","onTextChange","onCompress","isProcessing","error","className","placeholder","inputRef","handleCompress","handleVoiceTranscript","transcript","newText","isDisabled","styles","VoiceInput","ProcessingDots","import_react","import_react_native","import_jsx_runtime","init_BrainDump_native","__esmMin","init_VoiceInput","init_ProcessingDots","import_jsx_runtime","isWeb","WebModal","Modal","init_Modal","__esmMin","init_colors","props","CapacityModal_web_exports","__export","CapacityModal","isOpen","currentCapacity","onClose","onSelectCapacity","className","selectedCapacity","setSelectedCapacity","React","handleConfirm","Modal","CAPACITY_OPTIONS","option","Button","import_react","import_jsx_runtime","init_CapacityModal_web","__esmMin","init_CapacityModal","init_Modal","init_Button","import_jsx_runtime","isWeb","PlatformCapacityModal","CapacityModal","init_CapacityModal","__esmMin","props","CAPACITY_OPTIONS","init_CapacityModal","__esmMin","HapticServiceImpl","init_platformHaptics_web","__esmMin","type","platformHaptics_exports","__export","HapticServiceImpl","init_platformHaptics","__esmMin","init_platformHaptics_web","src_exports","__export","AnimatedPresence","BrainDump","Button","CapacityModal","Collapse","EmptyState","FadeIn","FadeOut","FocusMode","Modal","ProcessingDots","ProcessingText","ScaleIn","ScaleOut","Settings","SlideIn","SlideOut","Spacer","Stack","Surface","Swipeable","TaskCard","Text","TextField","Timeline","Timer","Toggle","Touchable","VoiceInput","Welcome","accentColors","backgroundTints","baseColors","borderRadius","categoryColors","chartColors","componentSpacing","createStaggeredAnimation","duration","easing","easingCSS","focusRing","focusRingCSS","focusRingCSSVariants","fontSizes","fontStack","fontWeights","fonts","getPlatformFont","getTextBaseStyles","getVariantStyles","innerShadows","interactionPresets","letterSpacing","motionPresets","motionVariants","processingDotsConfig","semanticColors","shadows","shadowsCSS","shouldReduceMotion","spacing","spacingScale","staggerPresets","tokens","transitions","transitionsCSS","useAnimationDuration","useAnimationState","useReducedMotion","useShouldAnimate","__toCommonJS","init_Button","init_Text_web","import_react","import_jsx_runtime","Touchable","props","children","onPress","onPressIn","onPressOut","onLongPress","style","activeOpacity","disabled","accessibilityLabel","accessibilityHint","accessibilityRole","testID","isPressed","setIsPressed","handleMouseDown","e","handleMouseUp","handleClick","webStyle","init_shadows","import_jsx_runtime","Surface","children","elevation","variant","backgroundColor","padding","radius","style","testID","webStyle","shadowsCSS","import_jsx_runtime","Stack","children","direction","spacing","align","justify","wrap","style","testID","webStyle","init_spacing","getSpacerStyles","size","direction","space","spacing","import_jsx_runtime","Spacer","size","direction","testID","webStyle","getSpacerStyles","import_react","init_colors","init_typography","init_shadows","import_jsx_runtime","TextField","value","onChangeText","placeholder","multiline","autoGrow","maxLength","showCharacterCount","disabled","error","label","autoFocus","testID","style","textareaRef","hasError","textarea","textareaStyle","characterCount","fontSizes","baseColors","e","focusRingCSS","init_Modal_web","init_motion","init_Text_web","import_jsx_runtime","Toggle","value","onValueChange","disabled","label","testID","trackStyle","duration","easing","thumbStyle","content","e","Stack","Text","init_colors","init_typography","init_spacing","init_motion","init_shadows","tokens","categoryColors","baseColors","semanticColors","chartColors","fonts","fontSizes","fontWeights","fontStack","getPlatformFont","spacing","spacingScale","componentSpacing","borderRadius","duration","easing","easingCSS","transitions","transitionsCSS","motionVariants","processingDotsConfig","shouldReduceMotion","shadows","shadowsCSS","focusRing","focusRingCSS","innerShadows","FadeIn","props","FadeOut","SlideIn","SlideOut","ScaleIn","ScaleOut","Collapse","AnimatedPresence","init_hooks","init_motion","motionPresets","duration","staggerPresets","createStaggeredAnimation","preset","isWeb","BrainDumpImpl","BrainDumpProps","BrainDump","init_CapacityModal","import_store","import_jsx_runtime","categoryColors","TaskCard","task","onToggle","onFocus","onDelete","borderColor","handleToggle","handleFocus","handleDelete","e","Text","import_jsx_runtime","EmptyState","message","icon","subMessage","Text","import_jsx_runtime","Timeline","tasks","state","toggleTask","removeTask","setCurrentView","handleFocus","taskId","handleToggle","handleDelete","EmptyState","completedTasks","t","incompleteTasks","task","TaskCard","import_react","import_react_native","import_store","init_Button","import_react_native","import_jsx_runtime","Timer","elapsed","formatTime","seconds","mins","secs","styles","Text","isWeb","getKeychain","isWeb","service","username","password","getLocalAuth","AuthService","_AuthService","email","response","user","tokens","error","hasHardware","isEnrolled","isSetup","currentTokens","newTokens","endpoint","options","url","errorData","credentials","stored","enabled","authService","haptic","type","HapticServiceImpl","service","HapticPatterns","haptic","init_platformHaptics","import_jsx_runtime","FocusMode","currentTask","state","t","elapsedTime","endFocus","toggleTask","setCurrentView","interval","handleComplete","HapticPatterns","handleExit","styles","Text","Timer","Button","import_react_native","import_store","import_jsx_runtime","SettingRow","label","value","onPress","showChevron","children","content","Text","Touchable","SettingSection","title","Surface","Settings","settings","updateSettings","isPremium","updateSetting","key","getSystemPreference","setting","getThemeLabel","handleThemeChange","themes","nextIndex","getAIProviderLabel","handleAIProviderChange","providers","current","Stack","Toggle","sizes","capacities","import_react","import_react_native","init_Button","import_store","import_jsx_runtime","welcomeSteps","capacityOptions","Welcome","onComplete","currentStep","setCurrentStep","showTour","setShowTour","selectedCapacity","setSelectedCapacity","updateSettings","isFirstStep","isLastStep","handleNext","handleComplete","handleSkipTour","Stack","Text","Spacer","option","Button","step","_","index","init_ProcessingDots","init_VoiceInput","import_jsx_runtime","Swipeable","children"]}